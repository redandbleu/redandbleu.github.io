(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[4],{yONZ:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return xa})),n.d(t,"b",(function(){return sc})),n.d(t,"c",(function(){return za})),n.d(t,"d",(function(){return pc})),n.d(t,"e",(function(){return Vs})),n.d(t,"f",(function(){return Vi})),n.d(t,"g",(function(){return oc})),n.d(t,"h",(function(){return lc})),n.d(t,"i",(function(){return Yi})),n.d(t,"j",(function(){return aa})),n.d(t,"k",(function(){return Ic})),n.d(t,"l",(function(){return Ma})),n.d(t,"m",(function(){return bc})),n.d(t,"n",(function(){return Rc})),n.d(t,"o",(function(){return ua})),n.d(t,"p",(function(){return ba})),n.d(t,"q",(function(){return xs})),n.d(t,"r",(function(){return pa})),n.d(t,"s",(function(){return $c})),n.d(t,"t",(function(){return yc})),n.d(t,"u",(function(){return _c})),n.d(t,"v",(function(){return Ss})),n.d(t,"w",(function(){return ma})),n.d(t,"x",(function(){return Dc})),n.d(t,"y",(function(){return Mo})),n.d(t,"z",(function(){return ea})),n.d(t,"A",(function(){return ta})),n.d(t,"B",(function(){return na})),n.d(t,"C",(function(){return ra})),n.d(t,"D",(function(){return oa})),n.d(t,"E",(function(){return ia})),n.d(t,"F",(function(){return Ra})),n.d(t,"G",(function(){return da})),n.d(t,"I",(function(){return Ys})),n.d(t,"J",(function(){return Ua})),n.d(t,"K",(function(){return mc})),n.d(t,"L",(function(){return Ja})),n.d(t,"M",(function(){return ss})),n.d(t,"N",(function(){return rc})),n.d(t,"O",(function(){return cc})),n.d(t,"P",(function(){return fc})),n.d(t,"Q",(function(){return gc})),n.d(t,"R",(function(){return zc})),n.d(t,"S",(function(){return qs})),n.d(t,"T",(function(){return ws})),n.d(t,"U",(function(){return ec})),n.d(t,"V",(function(){return nc})),n.d(t,"W",(function(){return kc})),n.d(t,"X",(function(){return Sc})),n.d(t,"Y",(function(){return Pc})),n.d(t,"Z",(function(){return Cs})),n.d(t,"ab",(function(){return ja})),n.d(t,"bb",(function(){return zi})),n.d(t,"cb",(function(){return Bc})),n.d(t,"db",(function(){return Fc})),n.d(t,"eb",(function(){return Ln})),n.d(t,"fb",(function(){return Bn})),n.d(t,"gb",(function(){return Li})),n.d(t,"hb",(function(){return Ca})),n.d(t,"ib",(function(){return sa})),n.d(t,"jb",(function(){return io})),n.d(t,"kb",(function(){return Fn})),n.d(t,"lb",(function(){return Io})),n.d(t,"mb",(function(){return Fo})),n.d(t,"nb",(function(){return qo})),n.d(t,"ob",(function(){return Gr})),n.d(t,"pb",(function(){return Ho})),n.d(t,"qb",(function(){return Vo})),n.d(t,"rb",(function(){return Go})),n.d(t,"sb",(function(){return $a})),n.d(t,"tb",(function(){return Xr})),n.d(t,"ub",(function(){return Zr})),n.d(t,"vb",(function(){return Qr})),n.d(t,"wb",(function(){return Yr})),n.d(t,"xb",(function(){return Wa})),n.d(t,"yb",(function(){return to})),n.d(t,"zb",(function(){return oo})),n.d(t,"Ab",(function(){return ro})),n.d(t,"Bb",(function(){return Qo})),n.d(t,"Cb",(function(){return si})),n.d(t,"Db",(function(){return ei})),n.d(t,"Eb",(function(){return Da})),n.d(t,"Fb",(function(){return La})),n.d(t,"Gb",(function(){return Bo})),n.d(t,"Hb",(function(){return Ya})),n.d(t,"Ib",(function(){return Qa})),n.d(t,"Jb",(function(){return pi})),n.d(t,"Kb",(function(){return Xs})),n.d(t,"Lb",(function(){return Ui})),n.d(t,"Mb",(function(){return _})),n.d(t,"Nb",(function(){return Za})),n.d(t,"Ob",(function(){return hs})),n.d(t,"Pb",(function(){return Mc})),n.d(t,"Qb",(function(){return ci})),n.d(t,"Rb",(function(){return Bs})),n.d(t,"Sb",(function(){return fi}));var r=n("JjNT");n.d(t,"H",(function(){return r.a}));var o=n("Q/jD"),i=n("K69r"),a=n.n(i),s=n("q1tI"),c=n.n(s),l=n("i8i4"),u=n("9h5o"),d=n("WOvX"),p=n("xL1/"),f=n("cRT5"),b=n("tqYG"),v=n("oxNX"),h=n("wZee"),m=n("SpMp"),g=n("NCd1"),y=n("9V9U"),j=n("pMk8"),O=(n("KAy6"),n("sI28")),k=(n("fUUT"),n("6ZHS"),n("1VtT"),n("vEJZ")),x=Array.isArray;var N=function(){if(!arguments.length)return[];var e=arguments[0];return x(e)?e:[e]};const _=({plugins:e=[],inlineTypes:t=[],voidTypes:n=[]})=>r=>{const{isInline:o}=r,{isVoid:i}=r;let a=[...t],s=[...n];return e.forEach((e=>{e.inlineTypes&&(a=a.concat(N(e.inlineTypes))),e.voidTypes&&(s=s.concat(N(e.voidTypes)))})),r.isInline=e=>!!a.includes(e.type)||o(e),r.isVoid=e=>!!s.includes(e.type)||i(e),r};var w=function(){this.__data__=[],this.size=0};var E=function(e,t){return e===t||e!==e&&t!==t};var S=function(e,t){for(var n=e.length;n--;)if(E(e[n][0],t))return n;return-1},T=Array.prototype.splice;var A=function(e){var t=this.__data__,n=S(t,e);return!(n<0)&&(n==t.length-1?t.pop():T.call(t,n,1),--this.size,!0)};var P=function(e){var t=this.__data__,n=S(t,e);return n<0?void 0:t[n][1]};var z=function(e){return S(this.__data__,e)>-1};var D=function(e,t){var n=this.__data__,r=S(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function L(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}L.prototype.clear=w,L.prototype.delete=A,L.prototype.get=P,L.prototype.has=z,L.prototype.set=D;var C=L;var B=function(){this.__data__=new C,this.size=0};var I=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var R=function(e){return this.__data__.get(e)};var M=function(e){return this.__data__.has(e)},$="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function F(e,t){return e(t={exports:{}},t.exports),t.exports}var q="object"==typeof $&&$&&$.Object===Object&&$,U="object"==typeof self&&self&&self.Object===Object&&self,W=q||U||Function("return this")(),K=W.Symbol,H=Object.prototype,V=H.hasOwnProperty,G=H.toString,J=K?K.toStringTag:void 0;var X=function(e){var t=V.call(e,J),n=e[J];try{e[J]=void 0;var r=!0}catch(i){}var o=G.call(e);return r&&(t?e[J]=n:delete e[J]),o},Z=Object.prototype.toString;var Q=function(e){return Z.call(e)},Y=K?K.toStringTag:void 0;var ee=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Y&&Y in Object(e)?X(e):Q(e)};var te=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var ne=function(e){if(!te(e))return!1;var t=ee(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},re=W["__core-js_shared__"],oe=function(){var e=/[^.]+$/.exec(re&&re.keys&&re.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var ie=function(e){return!!oe&&oe in e},ae=Function.prototype.toString;var se=function(e){if(null!=e){try{return ae.call(e)}catch(t){}try{return e+""}catch(t){}}return""},ce=/^\[object .+?Constructor\]$/,le=Function.prototype,ue=Object.prototype,de=le.toString,pe=ue.hasOwnProperty,fe=RegExp("^"+de.call(pe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var be=function(e){return!(!te(e)||ie(e))&&(ne(e)?fe:ce).test(se(e))};var ve=function(e,t){return null==e?void 0:e[t]};var he=function(e,t){var n=ve(e,t);return be(n)?n:void 0},me=he(W,"Map"),ge=he(Object,"create");var ye=function(){this.__data__=ge?ge(null):{},this.size=0};var je=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Oe=Object.prototype.hasOwnProperty;var ke=function(e){var t=this.__data__;if(ge){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Oe.call(t,e)?t[e]:void 0},xe=Object.prototype.hasOwnProperty;var Ne=function(e){var t=this.__data__;return ge?void 0!==t[e]:xe.call(t,e)};var _e=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ge&&void 0===t?"__lodash_hash_undefined__":t,this};function we(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}we.prototype.clear=ye,we.prototype.delete=je,we.prototype.get=ke,we.prototype.has=Ne,we.prototype.set=_e;var Ee=we;var Se=function(){this.size=0,this.__data__={hash:new Ee,map:new(me||C),string:new Ee}};var Te=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Ae=function(e,t){var n=e.__data__;return Te(t)?n["string"==typeof t?"string":"hash"]:n.map};var Pe=function(e){var t=Ae(this,e).delete(e);return this.size-=t?1:0,t};var ze=function(e){return Ae(this,e).get(e)};var De=function(e){return Ae(this,e).has(e)};var Le=function(e,t){var n=Ae(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Ce(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ce.prototype.clear=Se,Ce.prototype.delete=Pe,Ce.prototype.get=ze,Ce.prototype.has=De,Ce.prototype.set=Le;var Be=Ce;var Ie=function(e,t){var n=this.__data__;if(n instanceof C){var r=n.__data__;if(!me||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Be(r)}return n.set(e,t),this.size=n.size,this};function Re(e){var t=this.__data__=new C(e);this.size=t.size}Re.prototype.clear=B,Re.prototype.delete=I,Re.prototype.get=R,Re.prototype.has=M,Re.prototype.set=Ie;var Me=Re;var $e=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},Fe=function(){try{var e=he(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var qe=function(e,t,n){"__proto__"==t&&Fe?Fe(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Ue=Object.prototype.hasOwnProperty;var We=function(e,t,n){var r=e[t];Ue.call(e,t)&&E(r,n)&&(void 0!==n||t in e)||qe(e,t,n)};var Ke=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),o?qe(n,s,c):We(n,s,c)}return n};var He=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var Ve=function(e){return null!=e&&"object"==typeof e};var Ge=function(e){return Ve(e)&&"[object Arguments]"==ee(e)},Je=Object.prototype,Xe=Je.hasOwnProperty,Ze=Je.propertyIsEnumerable,Qe=Ge(function(){return arguments}())?Ge:function(e){return Ve(e)&&Xe.call(e,"callee")&&!Ze.call(e,"callee")};var Ye=function(){return!1},et=F((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?W.Buffer:void 0,i=(o?o.isBuffer:void 0)||Ye;e.exports=i})),tt=/^(?:0|[1-9]\d*)$/;var nt=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&tt.test(e))&&e>-1&&e%1==0&&e<t};var rt=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},ot={};ot["[object Float32Array]"]=ot["[object Float64Array]"]=ot["[object Int8Array]"]=ot["[object Int16Array]"]=ot["[object Int32Array]"]=ot["[object Uint8Array]"]=ot["[object Uint8ClampedArray]"]=ot["[object Uint16Array]"]=ot["[object Uint32Array]"]=!0,ot["[object Arguments]"]=ot["[object Array]"]=ot["[object ArrayBuffer]"]=ot["[object Boolean]"]=ot["[object DataView]"]=ot["[object Date]"]=ot["[object Error]"]=ot["[object Function]"]=ot["[object Map]"]=ot["[object Number]"]=ot["[object Object]"]=ot["[object RegExp]"]=ot["[object Set]"]=ot["[object String]"]=ot["[object WeakMap]"]=!1;var it=function(e){return Ve(e)&&rt(e.length)&&!!ot[ee(e)]};var at=function(e){return function(t){return e(t)}},st=F((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n&&q.process,i=function(){try{var e=r&&r.require&&r.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=i})),ct=st&&st.isTypedArray,lt=ct?at(ct):it,ut=Object.prototype.hasOwnProperty;var dt=function(e,t){var n=x(e),r=!n&&Qe(e),o=!n&&!r&&et(e),i=!n&&!r&&!o&&lt(e),a=n||r||o||i,s=a?He(e.length,String):[],c=s.length;for(var l in e)!t&&!ut.call(e,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||nt(l,c))||s.push(l);return s},pt=Object.prototype;var ft=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||pt)};var bt=function(e,t){return function(n){return e(t(n))}},vt=bt(Object.keys,Object),ht=Object.prototype.hasOwnProperty;var mt=function(e){if(!ft(e))return vt(e);var t=[];for(var n in Object(e))ht.call(e,n)&&"constructor"!=n&&t.push(n);return t};var gt=function(e){return null!=e&&rt(e.length)&&!ne(e)};var yt=function(e){return gt(e)?dt(e):mt(e)};var jt=function(e,t){return e&&Ke(t,yt(t),e)};var Ot=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},kt=Object.prototype.hasOwnProperty;var xt=function(e){if(!te(e))return Ot(e);var t=ft(e),n=[];for(var r in e)("constructor"!=r||!t&&kt.call(e,r))&&n.push(r);return n};var Nt=function(e){return gt(e)?dt(e,!0):xt(e)};var _t=function(e,t){return e&&Ke(t,Nt(t),e)},wt=F((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?W.Buffer:void 0,i=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=i?i(n):new e.constructor(n);return e.copy(r),r}}));var Et=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var St=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i};var Tt=function(){return[]},At=Object.prototype.propertyIsEnumerable,Pt=Object.getOwnPropertySymbols,zt=Pt?function(e){return null==e?[]:(e=Object(e),St(Pt(e),(function(t){return At.call(e,t)})))}:Tt;var Dt=function(e,t){return Ke(e,zt(e),t)};var Lt=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},Ct=bt(Object.getPrototypeOf,Object),Bt=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Lt(t,zt(e)),e=Ct(e);return t}:Tt;var It=function(e,t){return Ke(e,Bt(e),t)};var Rt=function(e,t,n){var r=t(e);return x(e)?r:Lt(r,n(e))};var Mt=function(e){return Rt(e,yt,zt)};var $t=function(e){return Rt(e,Nt,Bt)},Ft=he(W,"DataView"),qt=he(W,"Promise"),Ut=he(W,"Set"),Wt=he(W,"WeakMap"),Kt="[object Map]",Ht="[object Promise]",Vt="[object Set]",Gt="[object WeakMap]",Jt="[object DataView]",Xt=se(Ft),Zt=se(me),Qt=se(qt),Yt=se(Ut),en=se(Wt),tn=ee;(Ft&&tn(new Ft(new ArrayBuffer(1)))!=Jt||me&&tn(new me)!=Kt||qt&&tn(qt.resolve())!=Ht||Ut&&tn(new Ut)!=Vt||Wt&&tn(new Wt)!=Gt)&&(tn=function(e){var t=ee(e),n="[object Object]"==t?e.constructor:void 0,r=n?se(n):"";if(r)switch(r){case Xt:return Jt;case Zt:return Kt;case Qt:return Ht;case Yt:return Vt;case en:return Gt}return t});var nn=tn,rn=Object.prototype.hasOwnProperty;var on=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&rn.call(e,"index")&&(n.index=e.index,n.input=e.input),n},an=W.Uint8Array;var sn=function(e){var t=new e.constructor(e.byteLength);return new an(t).set(new an(e)),t};var cn=function(e,t){var n=t?sn(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},ln=/\w*$/;var un=function(e){var t=new e.constructor(e.source,ln.exec(e));return t.lastIndex=e.lastIndex,t},dn=K?K.prototype:void 0,pn=dn?dn.valueOf:void 0;var fn=function(e){return pn?Object(pn.call(e)):{}};var bn=function(e,t){var n=t?sn(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var vn=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return sn(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return cn(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return bn(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return un(e);case"[object Set]":return new r;case"[object Symbol]":return fn(e)}},hn=Object.create,mn=function(){function e(){}return function(t){if(!te(t))return{};if(hn)return hn(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var gn=function(e){return"function"!=typeof e.constructor||ft(e)?{}:mn(Ct(e))};var yn=function(e){return Ve(e)&&"[object Map]"==nn(e)},jn=st&&st.isMap,On=jn?at(jn):yn;var kn=function(e){return Ve(e)&&"[object Set]"==nn(e)},xn=st&&st.isSet,Nn=xn?at(xn):kn,_n="[object Arguments]",wn="[object Function]",En="[object Object]",Sn={};Sn[_n]=Sn["[object Array]"]=Sn["[object ArrayBuffer]"]=Sn["[object DataView]"]=Sn["[object Boolean]"]=Sn["[object Date]"]=Sn["[object Float32Array]"]=Sn["[object Float64Array]"]=Sn["[object Int8Array]"]=Sn["[object Int16Array]"]=Sn["[object Int32Array]"]=Sn["[object Map]"]=Sn["[object Number]"]=Sn[En]=Sn["[object RegExp]"]=Sn["[object Set]"]=Sn["[object String]"]=Sn["[object Symbol]"]=Sn["[object Uint8Array]"]=Sn["[object Uint8ClampedArray]"]=Sn["[object Uint16Array]"]=Sn["[object Uint32Array]"]=!0,Sn["[object Error]"]=Sn[wn]=Sn["[object WeakMap]"]=!1;var Tn=function e(t,n,r,o,i,a){var s,c=1&n,l=2&n,u=4&n;if(r&&(s=i?r(t,o,i,a):r(t)),void 0!==s)return s;if(!te(t))return t;var d=x(t);if(d){if(s=on(t),!c)return Et(t,s)}else{var p=nn(t),f=p==wn||"[object GeneratorFunction]"==p;if(et(t))return wt(t,c);if(p==En||p==_n||f&&!i){if(s=l||f?{}:gn(t),!c)return l?It(t,_t(s,t)):Dt(t,jt(s,t))}else{if(!Sn[p])return i?t:{};s=vn(t,p,c)}}a||(a=new Me);var b=a.get(t);if(b)return b;a.set(t,s),Nn(t)?t.forEach((function(o){s.add(e(o,n,r,o,t,a))})):On(t)&&t.forEach((function(o,i){s.set(i,e(o,n,r,i,t,a))}));var v=u?l?$t:Mt:l?keysIn:yt,h=d?void 0:v(t);return $e(h||t,(function(o,i){h&&(o=t[i=o]),We(s,i,e(o,n,r,i,t,a))})),s};var An=function(e){return Tn(e,5)};const Pn=(e,t)=>!t||("object"===typeof t?Object.entries(t).every((([t,n])=>N(n).includes(e[t]))):t(e)),zn=(e,t)=>Object.assign(Object.assign({},t),{match:n=>Pn(n,t.match)&&(!(null===t||void 0===t?void 0:t.block)||o.a.isBlock(e,n))}),Dn=(e,t)=>{try{const{match:n,at:r=e.selection,reverse:i=!1,voids:a=!1}=t;if(!r)return;let s,c;if(o.h.isSpan(r))[s,c]=r;else if(o.g.isRange(r)){const t=o.a.path(e,r,{edge:"start"}),n=o.a.path(e,r,{edge:"end"});s=i?n:t,c=i?t:n}let l=[e,[]];o.e.isPath(r)&&(l=o.a.node(e,r));const u=o.c.descendants(l[0],{reverse:i,from:s,to:c,pass:([t])=>!a&&o.a.isVoid(e,t)});for(const[e,t]of u)if(Pn(e,n))return[e,r.concat(t)]}catch(n){return}},Ln=(e,t)=>{try{const{match:n=(()=>!0),at:r=e.selection||[],reverse:i=!1,voids:a=!1}=t;let s,c;if(o.h.isSpan(r))[s,c]=r;else if(o.g.isRange(r)){const t=o.a.path(e,r,{edge:"start"}),n=o.a.path(e,r,{edge:"end"});s=i?n:t,c=i?t:n}let l=[e,[]];o.e.isPath(r)&&(l=o.a.node(e,r));const u=o.c.nodes(l[0],{reverse:i,from:s,to:c,pass:([t])=>!a&&o.a.isVoid(e,t)});for(const[e,t]of u)if(Pn(e,n))return[e,t]}catch(n){return}},Cn=(e,t={})=>o.a.above(e,zn(e,t)),Bn=(e,t={})=>Cn(e,Object.assign(Object.assign({},t),{block:!0})),In=e=>(e=>{const[t,n]=e;return[t.children[t.children.length-1],n.concat([t.children.length-1])]})(e)[1],Rn=e=>o.b.isElement(e)||o.a.isEditor(e),Mn=(e,t)=>{try{return o.c.get(e,t)}catch(n){return null}},$n=(e,t={})=>{const{at:n=e.selection,voids:r,unhang:i=!0}=t;o.g.isRange(n)&&i&&(t.at=o.a.unhangRange(e,n,{voids:r}))},Fn=(e,t={})=>($n(e,t),o.a.nodes(e,zn(e,t))),qn=(e,t,n)=>{try{return o.a.parent(e,t,n)}catch(r){}};var Un=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o};var Wn=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var Kn=function(e){return this.__data__.has(e)};function Hn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Be;++t<n;)this.add(e[t])}Hn.prototype.add=Hn.prototype.push=Wn,Hn.prototype.has=Kn;var Vn=Hn;var Gn=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var Jn=function(e,t){return e.has(t)};var Xn=function(e,t,n,r,o,i){var a=1&n,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var l=i.get(e);if(l&&i.get(t))return l==t;var u=-1,d=!0,p=2&n?new Vn:void 0;for(i.set(e,t),i.set(t,e);++u<s;){var f=e[u],b=t[u];if(r)var v=a?r(b,f,u,t,e,i):r(f,b,u,e,t,i);if(void 0!==v){if(v)continue;d=!1;break}if(p){if(!Gn(t,(function(e,t){if(!Jn(p,t)&&(f===e||o(f,e,n,r,i)))return p.push(t)}))){d=!1;break}}else if(f!==b&&!o(f,b,n,r,i)){d=!1;break}}return i.delete(e),i.delete(t),d};var Zn=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var Qn=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Yn=K?K.prototype:void 0,er=Yn?Yn.valueOf:void 0;var tr=function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new an(e),new an(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return E(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Zn;case"[object Set]":var c=1&r;if(s||(s=Qn),e.size!=t.size&&!c)return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var u=Xn(s(e),s(t),r,o,i,a);return a.delete(e),u;case"[object Symbol]":if(er)return er.call(e)==er.call(t)}return!1},nr=Object.prototype.hasOwnProperty;var rr=function(e,t,n,r,o,i){var a=1&n,s=Mt(e),c=s.length;if(c!=Mt(t).length&&!a)return!1;for(var l=c;l--;){var u=s[l];if(!(a?u in t:nr.call(t,u)))return!1}var d=i.get(e);if(d&&i.get(t))return d==t;var p=!0;i.set(e,t),i.set(t,e);for(var f=a;++l<c;){var b=e[u=s[l]],v=t[u];if(r)var h=a?r(v,b,u,t,e,i):r(b,v,u,e,t,i);if(!(void 0===h?b===v||o(b,v,n,r,i):h)){p=!1;break}f||(f="constructor"==u)}if(p&&!f){var m=e.constructor,g=t.constructor;m==g||!("constructor"in e)||!("constructor"in t)||"function"==typeof m&&m instanceof m&&"function"==typeof g&&g instanceof g||(p=!1)}return i.delete(e),i.delete(t),p},or="[object Arguments]",ir="[object Array]",ar="[object Object]",sr=Object.prototype.hasOwnProperty;var cr=function(e,t,n,r,o,i){var a=x(e),s=x(t),c=a?ir:nn(e),l=s?ir:nn(t),u=(c=c==or?ar:c)==ar,d=(l=l==or?ar:l)==ar,p=c==l;if(p&&et(e)){if(!et(t))return!1;a=!0,u=!1}if(p&&!u)return i||(i=new Me),a||lt(e)?Xn(e,t,n,r,o,i):tr(e,t,c,n,r,o,i);if(!(1&n)){var f=u&&sr.call(e,"__wrapped__"),b=d&&sr.call(t,"__wrapped__");if(f||b){var v=f?e.value():e,h=b?t.value():t;return i||(i=new Me),o(v,h,n,r,i)}}return!!p&&(i||(i=new Me),rr(e,t,n,r,o,i))};var lr=function e(t,n,r,o,i){return t===n||(null==t||null==n||!Ve(t)&&!Ve(n)?t!==t&&n!==n:cr(t,n,r,o,e,i))};var ur=function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var c=(s=n[o])[0],l=e[c],u=s[1];if(a&&s[2]){if(void 0===l&&!(c in e))return!1}else{var d=new Me;if(r)var p=r(l,u,c,e,t,d);if(!(void 0===p?lr(u,l,3,r,d):p))return!1}}return!0};var dr=function(e){return e===e&&!te(e)};var pr=function(e){for(var t=yt(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,dr(o)]}return t};var fr=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var br=function(e){var t=pr(e);return 1==t.length&&t[0][2]?fr(t[0][0],t[0][1]):function(n){return n===e||ur(n,e,t)}};var vr=function(e){return"symbol"==typeof e||Ve(e)&&"[object Symbol]"==ee(e)},hr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mr=/^\w*$/;var gr=function(e,t){if(x(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!vr(e))||(mr.test(e)||!hr.test(e)||null!=t&&e in Object(t))};function yr(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(yr.Cache||Be),n}yr.Cache=Be;var jr=yr;var Or=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kr=/\\(\\)?/g,xr=function(e){var t=jr(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Or,(function(e,n,r,o){t.push(r?o.replace(kr,"$1"):n||e)})),t})),Nr=K?K.prototype:void 0,_r=Nr?Nr.toString:void 0;var wr=function e(t){if("string"==typeof t)return t;if(x(t))return Un(t,e)+"";if(vr(t))return _r?_r.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var Er=function(e){return null==e?"":wr(e)};var Sr=function(e,t){return x(e)?e:gr(e,t)?[e]:xr(Er(e))};var Tr=function(e){if("string"==typeof e||vr(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var Ar=function(e,t){for(var n=0,r=(t=Sr(t,e)).length;null!=e&&n<r;)e=e[Tr(t[n++])];return n&&n==r?e:void 0};var Pr=function(e,t,n){var r=null==e?void 0:Ar(e,t);return void 0===r?n:r};var zr=function(e,t){return null!=e&&t in Object(e)};var Dr=function(e,t,n){for(var r=-1,o=(t=Sr(t,e)).length,i=!1;++r<o;){var a=Tr(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&rt(o)&&nt(a,o)&&(x(e)||Qe(e))};var Lr=function(e,t){return null!=e&&Dr(e,t,zr)};var Cr=function(e,t){return gr(e)&&dr(t)?fr(Tr(e),t):function(n){var r=Pr(n,e);return void 0===r&&r===t?Lr(n,e):lr(t,r,3)}};var Br=function(e){return e};var Ir=function(e){return function(t){return null==t?void 0:t[e]}};var Rr=function(e){return function(t){return Ar(t,e)}};var Mr=function(e){return gr(e)?Ir(Tr(e)):Rr(e)};var $r=function(e){return"function"==typeof e?e:null==e?Br:"object"==typeof e?x(e)?Cr(e[0],e[1]):br(e):Mr(e)};var Fr=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var c=a[e?s:++o];if(!1===n(i[c],c,i))break}return t}}();var qr=function(e,t){return function(n,r){if(null==n)return n;if(!gt(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Object(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}((function(e,t){return e&&Fr(e,t,yt)}));var Ur=function(e,t){var n=-1,r=gt(e)?Array(e.length):[];return qr(e,(function(e,o,i){r[++n]=t(e,o,i)})),r};var Wr=function(e,t){return(x(e)?Un:Ur)(e,$r(t))};const Kr=(e,t,n)=>{var r,i,a;if(!n||!n.match&&!n.matchString)return o.a.before(e,t,n);let s=t,c=o.a.point(e,t,{edge:"end"});const l=((null===(r=n.matchString)||void 0===r?void 0:r.length)||0)+1,u=Array(l),d=!n.unit||"offset"===n.unit;let p=0;for(;;){const r=o.a.before(e,s,n);if(!r)return;if(!n.multiPaths&&!o.e.equals(r.path,c.path))return;const f=o.a.string(e,{anchor:r,focus:c}),b=N(n.matchString);let v=f;if(d&&l&&(u.unshift({point:r,text:f}),u.pop(),v=Wr(u.slice(0,-1),"text").join("")),b.includes(v)||(null===(i=n.match)||void 0===i?void 0:i.call(n,{beforeString:v,beforePoint:r,at:t})))return n.afterMatch?l&&d?null===(a=u[u.length-1])||void 0===a?void 0:a.point:c:r;if(c=r,s=r,p+=1,!n.skipInvalid&&(!b||p>b.length))return}},Hr=(e,{filter:t=(()=>!0),allow:n=[],exclude:r=[]}={})=>{const o=N(n),i=N(r);let a=()=>!0;o.length&&(a=([e])=>o.includes(e.type));let s=()=>!0;return i.length&&(s=([e])=>!i.includes(e.type)),!!e&&t(e)&&a(e)&&s(e)},Vr=(e,t,n)=>{const r=Kr(e,t,n);if(!r)return;return{anchor:r,focus:o.a.point(e,t,{edge:"end"})}},Gr=(e,t={})=>{var n;const r=null===(n=Bn(e,t))||void 0===n?void 0:n[1];if(!r)return;const i=o.a.start(e,r),a=((e,{at:t=e.selection,focus:n}={})=>{let r;return o.g.isRange(t)&&(r=n?t.focus:t.anchor),o.f.isPoint(t)&&(r=t),o.e.isPath(t)&&(r={path:t,offset:0}),r})(e,t);return a?{anchor:i,focus:a}:void 0},Jr=(e,t)=>{var n;return null!==(n=t&&o.a.string(e,t))&&void 0!==n?n:""},Xr=e=>{var t;const n=null===(t=Bn(e))||void 0===t?void 0:t[0];return!!n&&((e,t)=>!o.c.string(t)&&!t.children.some((t=>o.a.isInline(e,t))))(e,n)},Zr=e=>!!e&&o.g.isCollapsed(e),Qr=(e,t,n)=>!!t&&o.a.isEnd(e,t,n),Yr=e=>!!e&&o.g.isExpanded(e),eo=e=>0===e[e.length-1],to=(e,t)=>{const n=o.a.marks(e);return!!n&&!0===n[t]};function no(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}const ro=(e,t,n)=>!!t&&o.a.isStart(e,t,n),oo=e=>{var t,n;const r=null===(t=Bn(e))||void 0===t?void 0:t[1];return!!r&&ro(e,null===(n=e.selection)||void 0===n?void 0:n.focus,r)},io=({type:e,node:t,attributes:n,rules:r,withoutChildren:o})=>{const i=[];return r.forEach((({nodeNames:r="*",style:a,className:s,attribute:c})=>{(r=N(r)).forEach((l=>{i.push({type:e,withoutChildren:o,deserialize:e=>{if(r.length&&!r.includes(e.nodeName)&&"*"!==l)return;if(s&&!e.classList.contains(s))return;if(a)for(const[t,n]of Object.entries(a)){if(!N(n).includes(e.style[t]))return}if(c)if("string"===typeof c){if(!e.getAttributeNames().includes(c))return}else for(const[t,n]of Object.entries(c)){const r=N(n),o=e.getAttribute(t);if(!o||!r.includes(o))return}const o={};if(n){const t=e.getAttributeNames();for(const r of n)t.includes(r)&&(o[r]=e.getAttribute(r))}const i=t(e);return i&&Object.keys(o).length&&(i.attributes=o),i}})}))})),i},ao=e=>io(Object.assign({node:()=>({type:e.type})},e)),so=(e,...t)=>()=>{null===e||void 0===e||e(...t)},co=e=>io(Object.assign({node:()=>({[e.type]:!0})},e)),lo=(e,t,n=[])=>{if(to(e,t))return void e.removeMark(t);N(n).forEach((t=>{e.removeMark(t)})),e.addMark(t,!0)};var uo=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},po=Math.max;var fo=function(e,t,n){return t=po(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=po(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),uo(e,this,s)}};var bo=function(e){return function(){return e}},vo=Fe?function(e,t){return Fe(e,"toString",{configurable:!0,enumerable:!1,value:bo(t),writable:!0})}:Br,ho=Date.now;var mo=function(e){var t=0,n=0;return function(){var r=ho(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(vo);var go=function(e,t){return mo(fo(e,t,Br),e+"")};var yo=function(e,t,n){(void 0!==n&&!E(e[t],n)||void 0===n&&!(t in e))&&qe(e,t,n)};var jo=function(e){return Ve(e)&&gt(e)},Oo=Function.prototype,ko=Object.prototype,xo=Oo.toString,No=ko.hasOwnProperty,_o=xo.call(Object);var wo=function(e){if(!Ve(e)||"[object Object]"!=ee(e))return!1;var t=Ct(e);if(null===t)return!0;var n=No.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&xo.call(n)==_o};var Eo=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]};var So=function(e){return Ke(e,Nt(e))};var To=function(e,t,n,r,o,i,a){var s=Eo(e,n),c=Eo(t,n),l=a.get(c);if(l)yo(e,n,l);else{var u=i?i(s,c,n+"",e,t,a):void 0,d=void 0===u;if(d){var p=x(c),f=!p&&et(c),b=!p&&!f&&lt(c);u=c,p||f||b?x(s)?u=s:jo(s)?u=Et(s):f?(d=!1,u=wt(c,!0)):b?(d=!1,u=bn(c,!0)):u=[]:wo(c)||Qe(c)?(u=s,Qe(s)?u=So(s):te(s)&&!ne(s)||(u=gn(c))):d=!1}d&&(a.set(c,u),o(u,c,r,i,a),a.delete(c)),yo(e,n,u)}};var Ao=function e(t,n,r,o,i){t!==n&&Fr(n,(function(a,s){if(i||(i=new Me),te(a))To(t,n,s,r,e,o,i);else{var c=o?o(Eo(t,s),a,s+"",t,n,i):void 0;void 0===c&&(c=a),yo(t,s,c)}}),Nt)};var Po=function e(t,n,r,o,i,a){return te(t)&&te(n)&&(a.set(n,t),Ao(t,n,void 0,e,a),a.delete(n)),t};var zo=function(e,t,n){if(!te(n))return!1;var r=typeof t;return!!("number"==r?gt(n)&&nt(t,n.length):"string"==r&&t in n)&&E(n[t],e)};var Do=function(e){return go((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&zo(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var s=n[r];s&&e(t,s,r,i)}return t}))},Lo=Do((function(e,t,n,r){Ao(e,t,n,r)})),Co=go((function(e){return e.push(void 0,Po),uo(Lo,void 0,e)}));const Bo=(e,t)=>Co(e,t),Io=({key:e,defaultOptions:t,options:n})=>(({type:e,hotkey:t,clear:n})=>{if(t)return(r,o)=>{t&&a()(t,r)&&(r.preventDefault(),lo(o,e,n))}})(Bo(n,t)[e]),Ro=(e,t)=>!!Ln(e,t),Mo="p",$o=(e,t,n)=>{const{activeType:r,inactiveType:i=Mo}=t,a=Ro(e,Object.assign(Object.assign({},n),{match:{type:r}}));a&&r===i||o.j.setNodes(e,{type:a?i:r})},Fo=({key:e,defaultOptions:t,options:n})=>(({type:e,defaultType:t,hotkey:n})=>{if(!n)return;const r=N(n);return(n,o)=>{for(const i of r)if(a()(i,n))return n.preventDefault(),void $o(o,{activeType:e,inactiveType:t})}})(Bo(n,t)[e]),qo=(e,...t)=>n=>{n.preventDefault(),null===e||void 0===e||e(...t)};var Uo=function(e,t,n,r){if(!te(e))return e;for(var o=-1,i=(t=Sr(t,e)).length,a=i-1,s=e;null!=s&&++o<i;){var c=Tr(t[o]),l=n;if(o!=a){var u=s[c];void 0===(l=r?r(u,c,s):void 0)&&(l=te(u)?u:nt(t[o+1])?[]:{})}We(s,c,l),s=s[c]}return e};var Wo=function(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=Ar(e,a);n(s,a)&&Uo(i,Sr(a,e),s)}return i};var Ko=function(e,t){if(null==e)return{};var n=Un($t(e),(function(e){return[e]}));return t=$r(t),Wo(e,n,(function(e,n){return t(e,n[0])}))};const Ho=({type:e,component:t,rootProps:n,nodeToProps:r})=>({attributes:o,element:i,children:a})=>{var c;if(i.type===e){const e=null!==(c=null===r||void 0===r?void 0:r({attributes:o,element:i,children:a,rootProps:n}))&&void 0!==c?c:null===i||void 0===i?void 0:i.attributes;return Object(s.createElement)(t,Object.assign({attributes:o,htmlAttributes:e,element:i},Ko(n)),a)}},Vo=e=>({attributes:t,element:n,children:r})=>{var o;for(const{type:i,component:a,rootProps:c,nodeToProps:l}of e)if(n.type===i){const e=null!==(o=null===l||void 0===l?void 0:l({attributes:t,element:n,children:r,rootProps:c}))&&void 0!==o?o:null===n||void 0===n?void 0:n.attributes;return Object(s.createElement)(a,Object.assign({attributes:t,htmlAttributes:e,element:n},Ko(c)),r)}},Go=({key:e,defaultOptions:t,options:n})=>(({type:e,component:t,rootProps:n})=>({children:r,leaf:o})=>o[e]&&o.text?Object(s.createElement)(t,Object.assign({leaf:o},Ko(n)),r):r)(Bo(n,t)[e]),Jo=/^(?:\w+:)?\/\/(\S+)$/,Xo=/^localhost[:?\d]*(?:[^:?\d]\S*)?$/,Zo=/^[^\s.]+\.\S{2,}$/,Qo=e=>{if("string"!==typeof e)return!1;const t=e.match(Jo);if(!t)return!1;const n=t[1];if(!n)return!1;try{new URL(e)}catch(r){return!1}return Xo.test(n)||Zo.test(n)},Yo=e=>(e.forEach((e=>{o.b.isElement(e)&&Yo(e.children)})),e.length||e.push({text:""}),e);function ei(e,...t){return t.reduce(((e,t)=>t(e)),e)}var ti=Object.prototype,ni=ti.hasOwnProperty,ri=go((function(e,t){e=Object(e);var n=-1,r=t.length,o=r>2?t[2]:void 0;for(o&&zo(t[0],t[1],o)&&(r=1);++n<r;)for(var i=t[n],a=Nt(i),s=-1,c=a.length;++s<c;){var l=a[s],u=e[l];(void 0===u||E(u,ti[l])&&!ni.call(e,l))&&(e[l]=i[l])}return e}));const oi=({node:e,source:t,apply:n,query:r})=>{Hr([e,[]],r)&&n(e,t instanceof Function?t():t),Rn(e)&&e.children.forEach((e=>{oi({node:e,source:t,apply:n,query:r})}))},ii=e=>{oi(Object.assign(Object.assign({},e),{apply:ri}))};var ai=Do((function(e,t,n){Ao(e,t,n)}));const si=e=>{oi(Object.assign(Object.assign({},e),{apply:ai}))},ci=({idKey:e="id",idCreator:t=(()=>Date.now()),filterText:n=!0,resetExistingID:r=!1,filter:i=(()=>!0),allow:a,exclude:s}={})=>c=>{const l=c,{apply:u}=l,d=()=>({[e]:t()});return l.removedIDs=new Set,l.apply=c=>{if("insert_node"===c.type){const e=e=>{const[t]=e;return i(e)&&n?o.b.isElement(t):(e=>o.b.isElement(e)||o.i.isText(e))(t)},t=An(c.node);return(r?si:ii)({node:t,source:d,query:{filter:e,allow:a,exclude:s}}),u(Object.assign(Object.assign({},c),{node:t}))}if("split_node"===c.type&&(!n||c.properties.type)){let n=c.properties[e];return l.removedIDs.has(n)?l.removedIDs.delete(n):n=t(),u(Object.assign(Object.assign({},c),{properties:Object.assign(Object.assign({},c.properties),{[e]:n})}))}return"merge_node"!==c.type||n&&!c.properties.type||l.removedIDs.add(c.properties.id),u(c)},l},li=(e,t={})=>{o.a.withoutNormalizing(e,(()=>{const{moveNode:n,removeEmptyAncestor:r,reverse:i=!1,unit:a="character",distance:s=1,voids:c=!1}=t;let{at:l=e.selection,hanging:u=!1}=t;if(!l)return;if(o.g.isRange(l)&&o.g.isCollapsed(l)&&(l=l.anchor),o.f.isPoint(l)){const t=o.a.void(e,{at:l,mode:"highest"});if(!c&&t){const[,e]=t;l=e}else{const t={unit:a,distance:s};l={anchor:l,focus:i?o.a.before(e,l,t)||o.a.start(e,[]):o.a.after(e,l,t)||o.a.end(e,[])},u=!0}}if(o.e.isPath(l))return void o.j.removeNodes(e,{at:l,voids:c});if(o.g.isCollapsed(l))return;u||(l=o.a.unhangRange(e,l,{voids:c}));let[d,p]=o.g.edges(l);const f=o.a.above(e,{match:t=>o.a.isBlock(e,t),at:d,voids:c}),b=o.a.above(e,{match:t=>o.a.isBlock(e,t),at:p,voids:c}),v=f&&b&&!o.e.equals(f[1],b[1]),h=o.e.equals(d.path,p.path),m=c?null:o.a.void(e,{at:d,mode:"highest"}),g=c?null:o.a.void(e,{at:p,mode:"highest"});if(m){const t=o.a.before(e,d);t&&f&&o.e.isAncestor(f[1],t.path)&&(d=t)}if(g){const t=o.a.after(e,p);t&&b&&o.e.isAncestor(b[1],t.path)&&(p=t)}const y=[];let j;for(const t of o.a.nodes(e,{at:l,voids:c})){const[n,r]=t;j&&0===o.e.compare(r,j)||(!c&&o.a.isVoid(e,n)||!o.e.isCommon(r,d.path)&&!o.e.isCommon(r,p.path))&&(y.push(t),j=r)}const O=Array.from(y,(([,t])=>o.a.pathRef(e,t))),k=o.a.pointRef(e,d),x=o.a.pointRef(e,p);if(!h&&!m){const t=k.current,[n]=o.a.leaf(e,t),{path:r}=t,{offset:i}=d,a=n.text.slice(i);e.apply({type:"remove_text",path:r,offset:i,text:a})}for(const t of O){const n=t.unref();o.j.removeNodes(e,{at:n,voids:c})}if(!g){const t=x.current,[n]=o.a.leaf(e,t),{path:r}=t,i=h?d.offset:0,a=n.text.slice(i,p.offset);e.apply({type:"remove_text",path:r,offset:i,text:a})}!h&&v&&x.current&&k.current&&((e,t={})=>{o.a.withoutNormalizing(e,(()=>{let{match:n,at:r=e.selection}=t;const{mergeNode:i,removeEmptyAncestor:a,hanging:s=!1,voids:c=!1,mode:l="lowest"}=t;if(!r)return;if(null==n)if(o.e.isPath(r)){const[t]=o.a.parent(e,r);n=e=>t.children.includes(e)}else n=t=>o.a.isBlock(e,t);if(!s&&o.g.isRange(r)&&(r=o.a.unhangRange(e,r)),o.g.isRange(r))if(o.g.isCollapsed(r))r=r.anchor;else{const[,n]=o.g.edges(r),i=o.a.pointRef(e,n);o.j.delete(e,{at:r}),r=i.unref(),null==t.at&&o.j.select(e,r)}const[u]=o.a.nodes(e,{at:r,match:n,voids:c,mode:l}),d=o.a.previous(e,{at:r,match:n,voids:c,mode:l});if(!u||!d)return;const[p,f]=u,[b,v]=d;if(0===f.length||0===v.length)return;const h=o.e.next(v),m=o.e.common(f,v),g=o.e.isSibling(f,v),y=Array.from(o.a.levels(e,{at:f}),(([e])=>e)).slice(m.length).slice(0,-1),j=o.a.above(e,{at:f,mode:"highest",match:e=>y.includes(e)&&o.b.isElement(e)&&1===e.children.length}),O=j&&o.a.pathRef(e,j[1]);let k,x;if(o.i.isText(p)&&o.i.isText(b)){const e=no(p,["text"]);x=b.text.length,k=e}else{if(!o.b.isElement(p)||!o.b.isElement(b))throw new Error(`Cannot merge the node at path [${f}] with the previous sibling because it is not the same kind: ${JSON.stringify(p)} ${JSON.stringify(b)}`);{const e=no(p,["children"]);x=b.children.length,k=e}}if(g||i||o.j.moveNodes(e,{at:f,to:h,voids:c}),O)if(a){const t=O.current;t&&a(e,{at:t})}else o.j.removeNodes(e,{at:O.current,voids:c});o.b.isElement(b)&&o.a.isEmpty(e,b)||o.i.isText(b)&&""===b.text?o.j.removeNodes(e,{at:v,voids:c}):i?i(e,{at:f,to:h}):e.apply({type:"merge_node",path:h,position:x,properties:k}),O&&O.unref()}))})(e,{at:x.current,hanging:!0,voids:c,mergeNode:n,removeEmptyAncestor:r});const N=x.unref()||k.unref();null==t.at&&N&&o.j.select(e,N)}))},ui=(e,t,n)=>{o.j.insertNodes(e,{type:t,children:[{text:""}]},zn(e,n))},di=(e,{at:t,to:n,match:r,start:i=0})=>{let a=0;const s=o.e.isPath(t)?t:t[1],c=o.e.isPath(t)?o.c.get(e,s):t[0];if(!o.a.isBlock(e,c))return a;for(let l=c.children.length-1;l>=i;l--){const t=[...s,l],i=Mn(e,t);(!r||i&&r([i,t]))&&(o.j.moveNodes(e,{at:t,to:n}),a++)}return a},pi=(e,t)=>{o.j.unwrapNodes(e,zn(e,t))},fi=(e,t,n={})=>{$n(e,n),o.j.wrapNodes(e,t,n)},bi=({children:e})=>Object(l.createPortal)(e,document.body),vi=({className:e})=>({root:[e,{}]}),hi=Object(u.a)(),mi=(Object(d.a)((({children:e,styles:t,className:n,as:r="div"})=>{const o=hi(t,{className:n}),i=r;return Object(s.createElement)(i,{className:o.root},e)}),vi,void 0,{scope:"StyledComponent"}),Object(u.a)()),gi=Object(d.a)((({attributes:e,children:t,className:n,styles:r,htmlAttributes:o,as:i="div"})=>{const a=mi(r,{className:n}),c=i;return Object(s.createElement)(c,Object.assign({},e,{className:a.root},o),t)}),vi,void 0,{scope:"StyledElement"}),yi=Object(u.a)(),ji=Object(d.a)((({attributes:e,children:t,className:n,styles:r,as:o="span"})=>{const i=yi(r,{className:n}),a=o;return Object(s.createElement)(a,Object.assign({},e,{className:i.root}),t)}),vi,void 0,{scope:"StyledLeaf"}),Oi="slate-Toolbar",ki=Object(p.a)((e=>Object(b.a)({root:[Oi,{display:"flex",alignItems:"center",boxSizing:"content-box",userSelect:"none",minHeight:40,color:"rgb(68, 68, 68)"}]},e))),xi=Object(u.a)(),Ni=Object(s.forwardRef)((({className:e,styles:t,children:n},r)=>{const o=xi(t,{className:e});return Object(s.createElement)("div",{"data-testid":"Toolbar",className:o.root,ref:r},n)})),_i="slate-BalloonToolbar";Object(p.a)(((e,t,n,r,o,i,a)=>{let s,c="rgb(157, 170, 182)",l="white",u="rgb(36, 42, 49)",d="transparent";"light"===n&&(c="rgba(0, 0, 0, 0.50)",l="black",u="rgb(250, 250, 250)",d="rgb(196, 196, 196)");let p={},f={};return a&&(p={left:"50%",content:'" "',position:"absolute",marginTop:"-1px",transform:"translateX(-50%)",borderColor:`${u} transparent`,borderStyle:"solid"},"top"===i?(p=Object.assign(Object.assign({},p),{top:"100%",bottom:"auto",borderWidth:"8px 8px 0px"}),"light"===n&&(f=Object.assign(Object.assign({},p),{marginTop:0,borderWidth:"9px 9px 0px",borderColor:`${d} transparent`}))):(p=Object.assign(Object.assign({},p),{top:"auto",bottom:"100%",borderWidth:"0px 8px 8px"}),"light"===n&&(f=Object.assign(Object.assign({},p),{marginTop:0,borderWidth:"0px 9px 9px",borderColor:`${d} transparent`})))),s="top"===i?-9:9,Object(b.a)({root:[_i,{position:"absolute",zIndex:500,background:u,color:c,whiteSpace:"nowrap",visibility:"hidden",border:"solid #000",borderRadius:4,borderWidth:1,borderColor:d,padding:"0 4px",marginTop:s,transition:o?"":"top 75ms ease-out,left 75ms ease-out",selectors:{"::before":f,"::after":p,".slate-ToolbarButton-active, .slate-ToolbarButton:hover":{color:l}}},!r&&{visibility:"visible"},e]},t)}));var wi,Ei=F((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){void 0===t&&(t=0);var n=c.a.useRef(!1),r=c.a.useRef(),o=c.a.useRef(e),i=c.a.useCallback((function(){return n.current}),[]),a=c.a.useCallback((function(){n.current=!1,r.current&&clearTimeout(r.current),r.current=setTimeout((function(){n.current=!0,o.current()}),t)}),[t]),s=c.a.useCallback((function(){n.current=null,r.current&&clearTimeout(r.current)}),[]);return c.a.useEffect((function(){o.current=e}),[e]),c.a.useEffect((function(){return a(),s}),[t]),[i,s,a]}}));(wi=Ei)&&wi.__esModule&&Object.prototype.hasOwnProperty.call(wi,"default")&&wi.default;const Si="slate-HeadingToolbar",Ti=(Object(d.a)(Ni,(({className:e}={})=>{const t={root:[Si,{position:"relative",padding:"1px 18px 17px",margin:"0 -20px",borderBottom:"2px solid #eee",marginBottom:"20px",selectors:{".slate-ToolbarButton-active, .slate-ToolbarButton:hover":{color:"#06c"}}},e]};return Object(b.a)(ki(),t)})(),void 0,{scope:"HeadingToolbar"}),"slate-ToolbarButton"),Ai="slate-ToolbarButton-active",Pi=Object(u.a)(),zi=Object(d.a)((({className:e,styles:t,icon:n,tooltip:r,active:o,onMouseDown:i})=>{const a={onMouseDown:i},c=Pi(t,{className:e,active:o}),l=Object.assign({content:"",arrow:!0,offset:[0,17],delay:0,duration:[200,0],hideOnClick:!1},r),u=Object(s.createElement)("span",Object.assign({"data-testid":"ToolbarButton",className:c.root},a),n);return r?Object(s.createElement)(v.a,Object.assign({},l),u):u}),(({className:e,active:t}={})=>({root:[Ti,{display:"flex",justifyContent:"center",alignItems:"center",width:"28px",height:"24px",userSelect:"none",cursor:"pointer",verticalAlign:"middle",selectors:{"> svg":{display:"block",width:"20px",height:"20px"}}},t&&Ai,e]})),void 0,{scope:"ToolbarButton"}),Di=Object(u.a)();Object(d.a)((({children:e,attributes:t,styles:n,className:r,leaf:o})=>{const i=Di(n,Object.assign({className:r},o));return Object(s.createElement)("span",Object.assign({},t,{className:i.root}),e)}),(({className:e,title:t,list:n,italic:r,hr:o,code:i,bold:a,blockquote:s})=>{let c={};return a&&(c=Object.assign(Object.assign({},c),{fontWeight:"bold"})),r&&(c=Object.assign(Object.assign({},c),{fontStyle:"italic"})),t&&(c=Object.assign(Object.assign({},c),{display:"inline-block",fontWeight:"bold",fontSize:"20px",margin:"20px 0 10px 0"})),n&&(c=Object.assign(Object.assign({},c),{paddingLeft:"10px",fontSize:"20px",lineHeight:"10px"})),o&&(c=Object.assign(Object.assign({},c),{display:"block",textAlign:"center",borderBottom:"2px solid #ddd"})),s&&(c=Object.assign(Object.assign({},c),{display:"inline-block",borderLeft:"2px solid #ddd",paddingLeft:"10px",color:"#aaa",fontStyle:"italic"})),i&&(c=Object.assign(Object.assign({},c),{fontFamily:"monospace",backgroundColor:"#eee",padding:"3px"})),{root:[c,e]}}),void 0,{scope:"PreviewLeaf"});!function(e){var t=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?!\n|\r\n?))/.source;function n(e){return e=e.replace(/<inner>/g,(function(){return t})),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+e+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,o=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|$)/.source.replace(/__/g,(function(){return r})),i=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;e.languages.markdown=e.languages.extend("markup",{}),e.languages.insertBefore("markdown","prolog",{blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+o+i+"(?:"+o+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+o+i+")(?:"+o+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:e.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+o+")"+i+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+o+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:e.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/``.+?``|`[^`\r\n]+`/,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#+.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:n(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:n(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:n(/(~~?)(?:(?!~)<inner>)+?\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},url:{pattern:n(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)| ?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{variable:{pattern:/(\[)[^\]]+(?=\]$)/,lookbehind:!0},content:{pattern:/(^!?\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},string:{pattern:/"(?:\\.|[^"\\])*"(?=\)$)/}}}}),["url","bold","italic","strike"].forEach((function(t){["url","bold","italic","strike"].forEach((function(n){t!==n&&(e.languages.markdown[t].inside.content.inside[n]=e.languages.markdown[n])}))})),e.hooks.add("after-tokenize",(function(e){"markdown"!==e.language&&"md"!==e.language||function e(t){if(t&&"string"!==typeof t)for(var n=0,r=t.length;n<r;n++){var o=t[n];if("code"===o.type){var i=o.content[1],a=o.content[3];if(i&&a&&"code-language"===i.type&&"code-block"===a.type&&"string"===typeof i.content){var s=i.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),c="language-"+(s=(/[a-z][\w-]*/i.exec(s)||[""])[0].toLowerCase());a.alias?"string"===typeof a.alias?a.alias=[a.alias,c]:a.alias.push(c):a.alias=[c]}}else e(o.content)}}(e.tokens)})),e.hooks.add("wrap",(function(t){if("code-block"===t.type){for(var n="",r=0,o=t.classes.length;r<o;r++){var i=t.classes[r],a=/language-(.+)/.exec(i);if(a){n=a[1];break}}var s=e.languages[n];if(s){var c=t.content.replace(/&lt;/g,"<").replace(/&amp;/g,"&");t.content=e.highlight(c,s,n)}else if(n&&"none"!==n&&e.plugins.autoloader){var l="md-"+(new Date).valueOf()+"-"+Math.floor(1e16*Math.random());t.attributes.id=l,e.plugins.autoloader.loadLanguages(n,(function(){var t=document.getElementById(l);t&&(t.innerHTML=e.highlight(t.textContent,e.languages[n],n))}))}}})),e.languages.md=e.languages.markdown}(Prism);const Li=(e,t,n,r)=>{var o;if(!n.current)return;if(e.id===r)return;const i=null===(o=n.current)||void 0===o?void 0:o.getBoundingClientRect(),a=(i.bottom-i.top)/2,s=t.getClientOffset();if(!s)return;const c=s.y-i.top;return c<a?"top":c>=a?"bottom":void 0},Ci=({id:e,blockRef:t,removePreview:n})=>{const r=Object(f.d)(),[i,a]=Object(s.useState)(""),[{isDragging:c},l,u]=((e,t)=>Object(y.a)((()=>({item:{type:"block",id:t},collect:e=>({isDragging:e.isDragging()}),begin:()=>{document.body.classList.add("dragging")},end:()=>{document.body.classList.remove("dragging")}})),[]))(0,e),[{isOver:d},p]=((e,{blockRef:t,id:n,dropLine:r,setDropLine:i})=>Object(j.a)({accept:"block",drop:(r,i)=>{var a,s;const c=Li(r,i,t,n);if(!c)return;const l=Ln(e,{at:[],match:{id:r.id}});if(!l)return;const[,u]=l;let d;if(f.b.focus(e),"bottom"===c){if(d=null===(a=Ln(e,{at:[],match:{id:n}}))||void 0===a?void 0:a[1],!d)return;if(o.e.equals(u,o.e.next(d)))return}if("top"===c){const t=null===(s=Ln(e,{at:[],match:{id:n}}))||void 0===s?void 0:s[1];if(!t)return;if(d=[...t.slice(0,-1),t[t.length-1]-1],o.e.equals(u,d))return}if(c){const t=d,n=o.e.isBefore(u,t)&&o.e.isSibling(u,t)?t:o.e.next(t);o.j.moveNodes(e,{at:u,to:n})}},collect:e=>({isOver:e.isOver()}),hover(a,s){const c=Li(a,s,t,n),l=(u=r,!(d=c)&&u?"":"top"===d&&"top"!==u?"top":"bottom"===d&&"bottom"!==u?"bottom":void 0);var u,d;l&&i(l),c&&Yr(e.selection)&&(f.b.focus(e),o.j.collapse(e))}}))(r,{id:e,blockRef:t,dropLine:i,setDropLine:a});return n?(p(t),u(Object(g.a)(),{captureDraggingState:!0})):u(p(t)),!d&&i&&a(""),{isDragging:c,dropLine:i,dragRef:l}},Bi=()=>c.a.createElement("div",{style:{fontSize:12}},c.a.createElement("div",null,"Drag ",c.a.createElement("span",{style:{color:"rgba(255, 255, 255, 0.45)"}},"to move"))),Ii={content:c.a.createElement(Bi,null),placement:"bottom",arrow:!1,offset:[0,0],delay:[300,0],duration:[0,0],hideOnClick:!0,theme:"small"},Ri="slate-Selectable",Mi="slate-gutter-left",$i=Object(u.a)(),Fi=(Object(d.a)((({children:e,element:t,className:n,styles:r,componentRef:o,dragIcon:i})=>{const a=Object(s.useRef)(null),l=Object(s.useRef)(null),u=Object(m.a)(o,l),{dropLine:d,dragRef:p,isDragging:f}=Ci({id:t.id,blockRef:l}),h=Object(s.useRef)(null),g=Object(m.a)(p,h),y=$i(r,{className:n,direction:d,isDragging:f});return c.a.createElement("div",{className:y.root,ref:u},c.a.createElement("div",{ref:a,className:Object(b.b)(y.blockAndGutter,y.block)},e,!!d&&c.a.createElement("div",{className:y.dropLine,contentEditable:!1})),c.a.createElement("div",{className:Object(b.b)(y.blockAndGutter,y.gutterLeft),contentEditable:!1},c.a.createElement("div",{className:y.blockToolbarWrapper},c.a.createElement("div",{className:y.blockToolbar},c.a.createElement(v.a,Object.assign({},Ii),c.a.createElement("div",{ref:g},c.a.createElement("button",{type:"button",className:y.dragButton,onMouseDown:e=>e.stopPropagation()},i)))))))}),(({className:e,direction:t,isDragging:n,selected:r})=>({root:[Ri,{position:"relative",opacity:n?.5:1,backgroundColor:r?"rgb(181, 215, 255)":void 0,selectors:{":hover .slate-gutter-left":{opacity:1}}},e],block:{},blockAndGutter:{paddingTop:3,paddingBottom:3},gutterLeft:[{position:"absolute",top:0,transform:"translateX(-100%)",display:"flex",height:"100%",opacity:0},Mi],blockToolbarWrapper:{display:"flex",height:"1.5em"},blockToolbar:{width:18,height:18,marginRight:4,pointerEvents:"auto"},dragButton:{minWidth:18,height:18,padding:0,backgroundColor:"transparent",backgroundRepeat:"no-repeat",border:"none",cursor:"pointer",overflow:"hidden",outline:"none"},dropLine:{position:"absolute",left:0,right:0,top:"top"===t?-1:void 0,bottom:"bottom"===t?-1:void 0,height:2,opacity:1,background:"#B4D5FF"}})),void 0,{scope:"Selectable"}),e=>t=>{var n;const r=(e=>{if(e.nodeType===Node.TEXT_NODE)return"\n"===e.nodeValue?null:e.textContent})(t);if(r)return r;if(t.nodeType!==Node.ELEMENT_NODE)return null;const i=t,a=(e=>{if("BR"===e.nodeName)return"\n"})(t);if(a)return a;const{nodeName:s}=t;let c=t;"PRE"===s&&"CODE"===(null===(n=t.childNodes[0])||void 0===n?void 0:n.nodeName)&&([c]=t.childNodes);const l=Array.from(c.childNodes).map(Fi(e)).flat(),u=(({element:e,children:t})=>{if("BODY"===e.nodeName)return Object(O.a)("fragment",{},t)})({element:i,children:l});if(u)return u;const d=(({plugins:e,element:t,children:n})=>{let r,o;if(e.some((({deserialize:e})=>{if(null===e||void 0===e?void 0:e.element)return e.element.some((e=>{const n=e.deserialize(t);if(n)return r=n,o=e.withoutChildren,!0}))})),r){let e=n;return e.length&&!o||(e=[{text:""}]),Object(O.a)("element",r,e)}})({plugins:e,element:i,children:l});return d||(({plugins:e,element:t,children:n})=>{let r={};return e.forEach((({deserialize:e})=>{(null===e||void 0===e?void 0:e.leaf)&&e.leaf.forEach((e=>{const n=e.deserialize(t);n&&(r=Object.assign(Object.assign({},r),n))}))})),n.reduce(((e,t)=>t?(o.b.isElement(t)?(Object.keys(r).length&&si({node:t,source:r,query:{filter:([e])=>o.i.isText(e)}}),e.push(t)):e.push(Object(O.a)("text",r,t)),e):e),[])})({plugins:e,element:i,children:l})}),qi=({plugins:e,element:t})=>{"string"===typeof t&&(t=(e=>{const t=document.createElement("body");return t.innerHTML=e.replace(/(\r\n|\n|\r|\t)/gm,""),t})(t));const n=(({plugins:e,element:t})=>Fi(e)(t))({plugins:e,element:t});return Yo(n)},Ui=(e={})=>{var{plugins:t=[]}=e,n=no(e,["plugins"]);return e=>{const{insertData:i}=e,{preInsert:a=(n=>{const i=Object(r.b)(t),a=n[0].type;return Xr(e)&&a&&!i.includes(a)&&o.j.setNodes(e,{type:n[0].type}),n}),insert:s=(t=>{o.j.insertFragment(e,t)})}=n;return e.insertData=e=>{const n=e.getData("text/html");if(n){const{body:e}=(new DOMParser).parseFromString(n,"text/html");let r=qi({plugins:t,element:e});return r=a(r),void s(r)}i(e)},e}};const Wi=Object(u.a)(),Ki=Object(d.a)((({attributes:e,children:t,className:n,styles:r,htmlAttributes:o})=>{const i=Wi(r,{className:n});return Object(s.createElement)("blockquote",Object.assign({},e,{className:i.root},o),t)}),(({className:e})=>({root:[{borderLeft:"2px solid #ddd",padding:"10px 20px 10px 16px",color:"#aaa",margin:"8px 0"},e]})),void 0,{scope:"BlockquoteElement"}),Hi="blockquote",Vi={blockquote:{component:Ki,type:Hi,hotkey:"mod+shift+.",rootProps:{className:"slate-blockquote",as:"blockquote"}}},Gi=Object(u.a)(),Ji=Object(d.a)((({attributes:e,children:t,className:n,styles:r,htmlAttributes:o})=>{const i=Gi(r,{className:n});return Object(s.createElement)("pre",Object.assign({},e,{className:i.root},o),Object(s.createElement)("code",null,t))}),(({className:e})=>({root:[{fontSize:"16px",padding:"12px 16px",backgroundColor:"rgb(247, 246, 243)",borderRadius:"3px",whiteSpace:"pre-wrap",fontFamily:'SFMono-Regular, Consolas, Monaco, "Liberation Mono", Menlo, Courier, monospace;',tabSize:"2",lineHeight:"normal"},e]})),void 0,{scope:"CodeBlockElement"}),Xi=Object(u.a)(),Zi=Object(d.a)((({attributes:e,children:t,className:n,styles:r,htmlAttributes:o})=>{const i=Xi(r,{className:n});return Object(s.createElement)("div",Object.assign({},e,{className:i.root},o),t)}),(({className:e})=>({root:[{},e]})),void 0,{scope:"CodeBlockElement"}),Qi="code_block",Yi={code_block:{component:Ji,type:Qi,hotkey:["mod+opt+8","mod+shift+8"],rootProps:{className:"slate-code-block"}},code_line:{component:Zi,type:"code_line",rootProps:{className:"slate-code-line"}}},ea="h1",ta="h2",na="h3",ra="h4",oa="h5",ia="h6",aa={h1:{component:gi,type:ea,rootProps:{className:`slate-${ea}`,as:"h1",styles:{root:{fontWeight:"400",marginTop:0,marginBottom:"12px",fontSize:320/11+"px",lineHeight:"36px",selectors:{":not(:first-child)":{marginTop:"30px"}}}}}},h2:{component:gi,type:ta,rootProps:{className:`slate-${ta}`,as:"h2",styles:{root:{fontWeight:"400",marginTop:0,marginBottom:"7.199999999999999px",fontSize:256/11+"px",lineHeight:"28px",selectors:{":not(:first-child)":{marginTop:"18px"}}}}}},h3:{component:gi,type:na,rootProps:{className:`slate-${na}`,as:"h3",styles:{root:{color:"#434343",fontWeight:"400",marginTop:0,marginBottom:"6px",fontSize:224/11+"px",selectors:{":not(:first-child)":{marginTop:"8px"}}}}}},h4:{component:gi,type:ra,rootProps:{className:`slate-${ra}`,as:"h4",styles:{root:{color:"#666666",fontWeight:"400",marginTop:0,marginBottom:"4.8px",fontSize:192/11+"px",selectors:{":not(:first-child)":{marginTop:"8px"}}}}}},h5:{component:gi,type:oa,rootProps:{className:`slate-${oa}`,as:"h5",styles:{root:{color:"#666666",fontWeight:"400",marginTop:0,marginBottom:"4.8px",fontSize:"16px",selectors:{":not(:first-child)":{marginTop:"8px"}}}}}},h6:{component:gi,type:ia,rootProps:{className:`slate-${ia}`,as:"h6",styles:{root:{color:"#666666",fontWeight:"400",fontStyle:"italic",marginTop:0,marginBottom:"4.8px",fontSize:"16px",selectors:{":not(:first-child)":{marginTop:"8px"}}}}}},levels:6},sa=({className:e})=>({root:[{textDecoration:"initial",color:"#0078d4",selectors:{":hover, :visited:hover":{color:"#004578",textDecoration:"underline"},":visited":{color:"#0078d4"}}},e]}),ca=Object(u.a)(),la=Object(d.a)((({attributes:e,children:t,element:n,styles:r,className:o,htmlAttributes:i})=>{const a=ca(r,{className:o});return Object(s.createElement)("a",Object.assign({},e,{href:n.url,className:a.root},i),t)}),sa,void 0,{scope:"LinkElement"}),ua={link:{component:la,type:"a",attribute:"url",isUrl:Qo,rootProps:{className:"slate-link"}}},da="p",pa={p:{component:gi,type:da,hotkey:["mod+opt+0","mod+shift+0"],rootProps:{className:`slate-${da}`,as:"p"}}},fa="ul",ba=Object.assign({ul:{component:gi,type:fa,rootProps:{className:"slate-ul",as:"ul",styles:{root:{paddingInlineStart:"24px",marginBlockStart:"0",marginBlockEnd:"0"}}}},ol:{component:gi,type:"ol",rootProps:{className:"slate-ol",as:"ol",styles:{root:{paddingInlineStart:"24px",marginBlockStart:"0",marginBlockEnd:"0"}}}},li:{component:gi,type:"li",rootProps:{className:"slate-li",as:"li"}}},pa),va="slate-todo-list-checked",ha=Object(u.a)(),ma={todo_li:{component:Object(d.a)((({attributes:e,children:t,element:n,className:r,styles:i,htmlAttributes:a})=>{const c=Object(f.d)(),l=Object(f.f)(),{checked:u}=n,d=ha(i,{className:r,checked:u});return Object(s.createElement)("div",Object.assign({},e,{className:d.root},a),Object(s.createElement)("div",{contentEditable:!1,className:d.checkboxWrapper},Object(s.createElement)("input",{"data-testid":"TodoListElementCheckbox",className:d.checkbox,type:"checkbox",checked:!!u,onChange:e=>{const t=f.b.findPath(c,n);o.j.setNodes(c,{checked:e.target.checked},{at:t})}})),Object(s.createElement)("span",{className:d.text,contentEditable:!l,suppressContentEditableWarning:!0},t))}),(({className:e,checked:t})=>{let n=e;return t&&(n+=" slate-todo-list-checked"),{root:[{display:"flex",flexDirection:"row",padding:"3px 0"},n],checkboxWrapper:{userSelect:"none",display:"flex",alignItems:"center",justifyContent:"center",width:"24px",height:"24px",marginRight:"6px"},checkbox:{width:"16px",height:"16px",margin:"0"},text:{flex:1,opacity:t?.666:1,textDecoration:t?"line-through":"none",selectors:{":focus":{outline:"none"}}}}}),void 0,{scope:"TodoListElement"}),type:"action_item",hotkey:["mod+opt+4","mod+shift+4"],rootProps:{className:"slate-todo-list"}}},ga=e=>{const{todo_li:t}=Bo(e,ma);return{element:io({type:t.type,node:e=>({type:t.type,checked:e.classList.contains(va)}),rules:[{className:t.rootProps.className}]})}},ya=e=>{const{todo_li:t}=Bo(e,ma);return Ho(t)},ja=e=>({renderElement:ya(e),deserialize:ga(e),onKeyDown:Fo({key:"todo_li",defaultOptions:ma,options:e})}),Oa=e=>{var t;const{blockquote:n}=Bo(e,Vi);return{element:ao(Object.assign({type:n.type,rules:[{nodeNames:"BLOCKQUOTE"}]},null===(t=null===e||void 0===e?void 0:e.blockquote)||void 0===t?void 0:t.deserialize))}},ka=e=>{const{blockquote:t}=Bo(e,Vi);return Ho(t)},xa=e=>({renderElement:ka(e),deserialize:Oa(e),onKeyDown:Fo({key:"blockquote",defaultOptions:Vi,options:e})}),Na=e=>t=>{const n=[],[r,i]=t,{code_block:a}=Bo(e,Yi);if(r.type===a.type){const e=o.c.string(r),t="javascript",a=h.languages[t],s=Object(h.tokenize)(e,a);let c=0;for(const r of s)if("string"===typeof r)c+=r.length;else{const e=r;n.push({anchor:{path:i,offset:c},focus:{path:i,offset:c+e.length},className:`prism-token token ${e.type} `,prism:!0}),c+=e.length}}return n},_a=e=>{var t,n;const{code_block:r,code_line:o}=Bo(e,Yi);return{element:[...ao(Object.assign({type:r.type,rules:[{nodeNames:"PRE"},{className:r.rootProps.className}]},null===(t=null===e||void 0===e?void 0:e.code_block)||void 0===t?void 0:t.deserialize)),...ao(Object.assign({type:o.type,rules:[{className:o.rootProps.className}]},null===(n=null===e||void 0===e?void 0:e.code_line)||void 0===n?void 0:n.deserialize))]}},wa=(e,{at:t=e.selection}={},n)=>{const{code_line:r}=Bo(n,Yi);if(t&&Ro(e,{at:t,match:{type:r.type}})){const n=qn(e,t);if(!n)return;const[,o]=n,i=Cn(e,{at:t,match:{type:r.type}})||qn(e,o);if(!i)return;const[a,s]=i;if(a.type!==r.type)return;const c=qn(e,s);if(!c)return;return{codeBlock:c,codeLine:i}}},Ea=(e,{codeLine:t})=>{var n;const[,r]=t,i=o.a.start(e,r);if(!Yr(e.selection)){const t=null===(n=e.selection)||void 0===n?void 0:n.anchor,r=o.a.range(e,i,t),a=o.a.string(e,r);if(/\S/.test(a))return void o.j.insertText(e,"  ",{at:e.selection})}o.j.insertText(e,"  ",{at:i})},Sa=(e,{codeLine:t})=>{const[,n]=t,r=o.a.start(e,n),i=r&&o.a.after(e,r),a=i&&o.a.range(e,r,i),s=Jr(e,a);return!!/\s/.test(s)&&(o.j.delete(e,{at:a}),!0)},Ta=(e,{codeBlock:t,codeLine:n})=>{Sa(e,{codeBlock:t,codeLine:n})&&Sa(e,{codeBlock:t,codeLine:n})},Aa=e=>(t,n)=>{if("Tab"===t.key){const r=t.shiftKey,o=wa(n,{},e);if(o){const{codeBlock:e,codeLine:i}=o;t.preventDefault(),r&&Ta(n,{codeBlock:e,codeLine:i});return void(!t.shiftKey&&Ea(n,{codeBlock:e,codeLine:i}))}const i=((e,{at:t=e.selection}={},n)=>{if(!t)return;const{code_line:r}=Bo(n,Yi);return[...Fn(e,{at:t,match:{type:r.type}})]})(n,{},e);if(i&&(null===i||void 0===i?void 0:i[0])){t.preventDefault();const[,e]=i[0],o=qn(n,e);for(const a of i){r&&Ta(n,{codeBlock:o,codeLine:a});!t.shiftKey&&Ea(n,{codeBlock:o,codeLine:a})}}}if("a"===t.key&&(t.metaKey||t.ctrlKey)){const r=wa(n,{},e);if(!r)return;const{codeBlock:i}=r,[,a]=i;o.j.select(n,a),t.preventDefault(),t.stopPropagation()}},Pa=e=>{const{code_block:t,code_line:n}=Bo(e,Yi);return Vo([t,n])},za=e=>({renderElement:Pa(e),renderLeaf:({leaf:e,children:t})=>e.prism&&e.text?Object(s.createElement)("span",{className:null===e||void 0===e?void 0:e.className},t):t,deserialize:_a(e),decorate:Na(),onKeyDown:Aa(e)}),Da=e=>t=>{const{h1:n,h2:r,h3:o,h4:i,h5:a,h6:s,levels:c}=Bo(e,aa),l=[],u=(e,t)=>{c>=e&&l.push(t)};return u(1,n),u(2,r),u(3,o),u(4,i),u(5,a),u(6,s),Vo(l)(t)},La=e=>{const{p:t}=Bo(e,pa);return Ho(t)},Ca=({className:e,focused:t,selected:n})=>({root:[{},e],img:{display:"block",maxWidth:"100%",maxHeight:"20em",padding:"10px 0",boxShadow:t&&n?"0 0 0 3px #B4D5FF":"none"}}),Ba=Object(u.a)(),Ia=Object(d.a)((({attributes:e,children:t,element:n,className:r,styles:o,htmlAttributes:i})=>{const{url:a}=n,c=Object(f.e)(),l=Object(f.g)(),u=Ba(o,{className:r,focused:c,selected:l});return Object(s.createElement)("div",Object.assign({},e,{className:u.root}),Object(s.createElement)("div",{contentEditable:!1},Object(s.createElement)("img",Object.assign({"data-testid":"ImageElementImage",className:u.img,src:a,alt:""},i))),t)}),Ca,void 0,{scope:"ImageElement"}),Ra="img",Ma={img:{component:Ia,type:Ra,rootProps:{className:"slate-img"}}},$a=(e,t,n)=>{const{img:r}=Bo(n,Ma),i={type:r.type,url:t,children:[{text:""}]};o.j.insertNodes(e,i)},Fa=e=>{var t;const{img:n}=Bo(e,Ma);return{element:io(Object.assign({type:n.type,node:e=>({type:n.type,url:e.getAttribute("src")}),rules:[{nodeNames:"IMG"}]},null===(t=null===e||void 0===e?void 0:e.img)||void 0===t?void 0:t.deserialize))}},qa=e=>{const{img:t}=Bo(e,Ma);return Ho(t)},Ua=e=>{const{img:t}=Bo(e,Ma);return{renderElement:qa(e),deserialize:Fa(e),voidTypes:[t.type]}},Wa=e=>{if(!Qo(e))return!1;const t=new URL(e).pathname.split(".").pop();return k.includes(t)},Ka=(e,t,n)=>{const{at:r,link:o}=Bo(n,ua);fi(e,{type:o.type,url:t,children:[]},{at:r,split:!0})},Ha=(e,t,n)=>{if(!e.selection)return;const{link:r,wrap:i}=Bo(n,ua);if(!i&&Zr(e.selection))return o.j.insertNodes(e,{type:r.type,url:t,children:[{text:t}]});if(i&&Zr(e.selection)){const t=o.a.leaf(e,e.selection),[,n]=t;o.j.select(e,n)}pi(e,{at:e.selection,match:{type:r.type}}),Ka(e,t,{link:r,at:e.selection}),o.j.collapse(e,{edge:"end"})},Va=e=>{var t;const{link:n}=Bo(e,ua);return{element:io(Object.assign({type:n.type,node:e=>({type:n.type,url:e.getAttribute("href")}),rules:[{nodeNames:"A"}]},null===(t=null===e||void 0===e?void 0:e.link)||void 0===t?void 0:t.deserialize))}},Ga=e=>{const{link:t}=Bo(e,ua);return Ho(t)},Ja=e=>{const{link:t}=Bo(e,ua);return{renderElement:Ga(e),deserialize:Va(e),inlineTypes:[t.type]}},Xa=(e,t,n)=>{var{at:r}=n,o=no(n,["at"]);const{link:i}=Bo(o,ua);pi(e,{at:r,match:{type:i.type}});const a=e.selection;Ka(e,t,{link:i,at:Object.assign(Object.assign({},r),{focus:a.focus})})},Za=e=>t=>{const{link:n,isUrl:r}=Bo(e,Object.assign(Object.assign({},ua),{isUrl:Qo})),{insertData:i,insertText:a}=t,s=Object.assign(Object.assign({},{matchString:" ",skipInvalid:!0,afterMatch:!0,multiPaths:!0}),Pr(e,"rangeBeforeOptions",{}));return t.insertText=e=>{if(" "===e&&Zr(t.selection)){const o=t.selection;if(((e,{link:t,isUrl:n})=>{const r=Gr(e),o=Jr(e,r);if(r&&n(o))return Xa(e,o,{at:r,link:t}),!0})(t,{link:n,isUrl:r}))return a(e);const i=Vr(t,o,s);if(i){const e=Jr(t,i);r(e)&&Xa(t,e,{at:i,link:n})}}a(e)},t.insertData=e=>{const o=e.getData("text/plain");if(o){if(Ro(t,{match:{type:n.type}}))return a(o);if(r(o))return Ha(t,o,{link:n})}i(e)},t=(e=>t=>{const n=N(e.type),{normalizeNode:r}=t;return t.normalizeNode=([e,i])=>{e.type&&n.includes(e.type)&&""===o.c.string(e)?o.j.removeNodes(t,{at:i}):r([e,i])},t})({type:n.type})(t)},Qa=(e,t)=>{const{li:n,ul:r,ol:o}=Bo(t,ba);pi(e,{match:{type:n.type}}),pi(e,{match:{type:[r.type,o.type]},split:!0})},Ya=(e,t)=>{var{typeList:n}=t,r=no(t,["typeList"]);if(!e.selection)return;const{p:i,li:a}=Bo(r,ba),s=Ro(e,{match:{type:n}});if(Qa(e,r),o.j.setNodes(e,{type:i.type}),!s){fi(e,{type:n,children:[]});const t=[...Fn(e,{match:{type:i.type}})],r={type:a.type,children:[]};for(const[,n]of t)o.j.wrapNodes(e,r,{at:n})}},es=e=>{const{ul:t,ol:n}=Bo(e,ba);return[n.type,t.type]},ts=(e,{validLiChildrenTypes:t},n)=>{const{li:r}=Bo(n,ba),{normalizeNode:i}=e;return([a,s])=>{if(Pn(a,{type:es(n)})&&!a.children.length)return o.j.removeNodes(e,{at:s});a.type===r.type&&((e,{nodeEntry:t,validLiChildrenTypes:n=[]},r)=>{var i;const{p:a,ul:s,ol:c}=Bo(r,ba),l=[s.type,c.type,a.type,...n],[u,d]=t,p=d.concat([0]),f=null===(i=u.children)||void 0===i?void 0:i[0];if(!f)return ui(e,a.type,{at:p}),!0;const b=(e=>{const[t,n]=e;return(t.children||[]).map(((e,t)=>[e,n.concat([t])]))})(t).filter((([e])=>!l.includes(e.type))).map((([,t])=>o.a.pathRef(e,t)));f.type!==a.type&&ui(e,a.type,{at:p});for(const v of b.reverse()){const t=v.unref();t&&o.j.moveNodes(e,{at:t,to:p.concat([0])})}return b.length>0})(e,{nodeEntry:[a,s],validLiChildrenTypes:t},n)||i([a,s])}},ns=e=>{var t,n,r;const{li:o,ul:i,ol:a}=Bo(e,ba);return{element:[...ao(Object.assign({type:i.type,rules:[{nodeNames:"UL"}]},null===(t=null===e||void 0===e?void 0:e.ul)||void 0===t?void 0:t.deserialize)),...ao(Object.assign({type:a.type,rules:[{nodeNames:"OL"}]},null===(n=null===e||void 0===e?void 0:e.ol)||void 0===n?void 0:n.deserialize)),...ao(Object.assign({type:o.type,rules:[{nodeNames:"LI"}]},null===(r=null===e||void 0===e?void 0:e.li)||void 0===r?void 0:r.deserialize))]}},rs=(e,{at:t=e.selection}={},n)=>{const{li:r}=Bo(n,ba);if(t&&Ro(e,{at:t,match:{type:r.type}})){const n=qn(e,t);if(!n)return;const[,o]=n,i=Cn(e,{at:t,match:{type:r.type}})||qn(e,o);if(!i)return;const[a,s]=i;if(a.type!==r.type)return;const c=qn(e,s);if(!c)return;return{list:c,listItem:i}}},os=(e,{list:t,listItem:n},r)=>{const{li:i}=Bo(r,ba),[a,s]=t,[,c]=n,l=qn(e,s);if(!l)return;const[u,d]=l;return u.type===i.type?(o.a.withoutNormalizing(e,(()=>{const t=o.e.next(d);o.j.moveNodes(e,{at:c,to:t});const n=c[c.length-1],r=[...c],i=t.concat(1);let l=!1,u=0;a.children.forEach(((t,s)=>{if(n<s){l||(l=!0,o.j.insertNodes(e,{type:a.type,children:[]},{at:i})),r[r.length-1]=n;const t=i.concat(u);u++,o.j.moveNodes(e,{at:r,to:t})}})),n||o.j.removeNodes(e,{at:s})})),!0):void 0},is=e=>(t,n)=>{let r=!1;if("Tab"===t.key){const i=rs(n,{},e);if(!i)return;const{list:a,listItem:s}=i,[,c]=s;t.preventDefault();t.shiftKey&&(r=os(n,{list:a,listItem:s},e),r&&t.preventDefault());!t.shiftKey&&!eo(c)&&((e,{list:t,listItem:n},r)=>{const[i]=t,[,a]=n,s=o.a.node(e,o.e.previous(a));if(s){const[t,n]=s,c=t.children.find((e=>Pn(e,{type:es(r)}))),l=n.concat(c?[1,c.children.length]:[1]);c||o.j.wrapNodes(e,{type:i.type,children:[]},{at:a}),o.j.moveNodes(e,{at:a,to:l})}})(n,{list:a,listItem:s},e)}},as=e=>{const{ul:t,ol:n,li:r}=Bo(e,ba);return Vo([t,n,r])},ss=e=>({renderElement:as(e),deserialize:ns(e),onKeyDown:is(e)}),cs=(e,t,n,r)=>{const{li:i}=Bo(r,ba),a=Cn(e,{at:t,match:{type:es(r)}});if(!a)return;const[s,c]=a;if(!n||!o.e.equals(c,n)){if(s.children.length<2){const t=Cn(e,{at:c,match:{type:i.type}});if(t)return cs(e,t[1],n,r)||c}return t}},ls=(e,t)=>e.children.some((e=>Pn(e,{type:es(t)}))),us=(e,t)=>{const{li:n}=Bo(t,ba),{selection:r}=e;if(!r||Zr(r))return!1;return!!((e,t={})=>{var{at:n}=t,r=no(t,["at"]);if(n||(n=e.selection),!n)return!1;const[i,a]=o.g.edges(n),s=Bn(e,Object.assign({at:i},r)),c=o.a.above(e,Object.assign({at:a},r));return s&&c&&!o.e.equals(s[1],c[1])})(e)&&Ro(e,{match:{type:n.type}})},ds=(e,t)=>{let n=!1;return o.a.withoutNormalizing(e,(()=>{const{li:r}=Bo(t,ba);if(!us(e,t))return;const i=o.a.end(e,e.selection),a=Cn(e,{at:i,match:{type:r.type}}),s=a&&!ls(a[0])?o.a.pathRef(e,a[1]):void 0;li(e,{moveNode:(t,{at:n})=>{if(!e.selection)return;const[,r]=o.a.node(e,n),i=Bn(e,{at:o.g.start(e.selection)});if(!i)return;const[a,s]=i;di(e,{at:r,to:s.concat(a.children.length)})},removeEmptyAncestor:()=>{}});const c=o.a.start(e,e.selection),l=Cn(e,{at:c,match:{type:r.type}});if(s){const r=s.unref(),i=l&&qn(e,l[1]),a=cs(e,r,null===i||void 0===i?void 0:i[1],t);a&&o.j.removeNodes(e,{at:a}),n=!0}})),n},ps=(e,t)=>{const{p:n,li:r}=Bo(t,ba);if(e.selection){const t=Cn(e,{match:{type:n.type}});if(!t)return;const[,i]=t,a=qn(e,i);if(!a)return;const[s,c]=a;if(s.type!==r.type)return;o.g.isCollapsed(e.selection)||o.j.delete(e);const l=o.a.isStart(e,e.selection.focus,i),u=(e=>{if(!e.selection)return!1;const t=Bn(e);if(!t)return!1;const n=e.selection.focus,r=qn(e,e.selection);if(!r)return!1;const[,i]=r;if(!o.a.isEnd(e,n,i))return!1;const a=((e,t)=>{const[n,r]=e,o=t[r.length],i=[];if(o+1<n.children.length)for(let a=o+1;a<n.children.length;a++)i.push(n.children[a]);return i})(t,n.path);if(!a.length)return o.a.isEnd(e,n,t[1]);for(const o of a)if(o.text)return!1;return!0})(e),d=o.e.next(i),p=o.e.next(c);if(l)return o.j.insertNodes(e,{type:r.type,children:[{type:n.type,children:[{text:""}]}]},{at:c}),!0;if(u){const t=o.a.marks(e)||{};o.j.insertNodes(e,{type:r.type,children:[{type:n.type,children:[Object.assign({text:""},t)]}]},{at:p}),o.j.select(e,p)}else o.a.withoutNormalizing(e,(()=>{o.j.splitNodes(e),o.j.wrapNodes(e,{type:r.type,children:[]},{at:d}),o.j.moveNodes(e,{at:d,to:p}),o.j.select(e,p),o.j.collapse(e,{edge:"start"})}));return s.children.length>1&&o.j.moveNodes(e,{at:d,to:p.concat(1)}),!0}},fs=(e,{list:t,listItem:n},r)=>{const[i,a]=t,[s,c]=n;return!!(!((e,t,n)=>{const{li:r}=Bo(n,ba),[i]=o.a.parent(e,t);return i.type===r.type})(e,a,r)&&i.children.length<=1&&ls(s)&&eo(c))&&(di(e,{at:[s,c],to:o.e.next(a)}),o.j.removeNodes(e,{at:a}),!0)},bs=(e,{list:t,listItem:n},r)=>{const[i,a]=n;if(!ls(i,r))return!1;if(Yr(e.selection))return!1;const s=o.a.pathRef(e,a),c=(e=>{if(0===e.length)return;const t=e[e.length-1];return t<=0?void 0:e.slice(0,-1).concat(t-1)})(a);if(c){const[t]=o.a.node(e,c);((e,{fromListItem:t,toListItem:n,start:r},i)=>{const[,a]=t,[,s]=n,c=Dn(e,{at:a,match:{type:es(i)}});if(!c)return 0;const[,l]=c,u=Dn(e,{at:s,match:{type:es(i)}});let d;if(u)if(r){const[,e]=u;d=e.concat([0])}else d=o.e.next(In(u));else{const t=qn(e,a);if(!t)return 0;const[n]=t,r=n.type,i=s.concat([1]);o.j.insertNodes(e,{type:r,children:[]},{at:i}),d=i.concat([0])}const p=di(e,{at:l,to:d});o.j.delete(e,{at:l})})(e,{fromListItem:n,toListItem:[t,c]},r),o.j.select(e,o.a.end(e,c.concat([0])))}else((e,{fromListItem:t,toList:n,start:r},i)=>{const a=Dn(e,{at:t[1],match:{type:es(i)}});if(!a)return 0;const[,s]=a,c=In(n),l=di(e,{at:s,to:r?n[1].concat([0]):o.e.next(c)});o.j.delete(e,{at:s})})(e,{fromListItem:n,toList:t},r);const l=s.unref();return l&&o.j.removeNodes(e,{at:l}),!0},vs=({rules:e})=>(t,n)=>{let r;return n.selection&&Zr(n.selection)&&e.forEach((({types:e,defaultType:i,hotkey:s,predicate:c,onReset:l})=>{(!t||s&&a()(s,t))&&c(n)&&Ro(n,{match:{type:e}})&&(null===t||void 0===t||t.preventDefault(),o.j.setNodes(n,{type:i}),null===l||void 0===l||l(n),r=!0)})),r},hs=(e={})=>{var{validLiChildrenTypes:t}=e,n=no(e,["validLiChildrenTypes"]);return e=>{const{p:r,li:i}=Bo(n,ba),{insertBreak:a,deleteBackward:s,deleteFragment:c}=e,l={types:[i.type],defaultType:r.type,onReset:e=>Qa(e,n)};return e.insertBreak=()=>{if(!e.selection)return;const t=rs(e,{},n);let s;if(t){const{list:a,listItem:c}=t,[l,u]=c,d=e.selection.focus;if(ls(l)){if(o.a.isEnd(e,d,u))return o.j.insertNodes(e,{type:i.type,children:[{type:r.type,children:[{text:""}]}]},{at:o.e.next(u),select:!0});if(o.a.isStart(e,d,u))return o.j.insertNodes(e,{type:i.type,children:[{type:r.type,children:[{text:""}]}]},{at:u})}if(Xr(e)&&(s=os(e,{list:a,listItem:c},n),s))return}if(!vs({rules:[Object.assign(Object.assign({},l),{predicate:()=>!s&&Xr(e)})]})(null,e)){if(!s){if(ps(e,n))return}a()}},e.deleteBackward=t=>{const r=rs(e,{},n);let i;if(r){const{list:a,listItem:c}=r,[l]=c;if(oo(e)&&(o.a.withoutNormalizing(e,(()=>{i=fs(e,{list:a,listItem:c},n),i||(i=bs(e,{list:a,listItem:c},n),i||(i=os(e,{list:a,listItem:c},n)))})),i))return;if(ls(l)&&Zr(e.selection))return s(t)}vs({rules:[Object.assign(Object.assign({},l),{predicate:()=>!i&&oo(e)})]})(null,e)||s(t)},e.deleteFragment=()=>{ds(e,n)||c()},e.normalizeNode=ts(e,{validLiChildrenTypes:t},n),e}},ms=Object(u.a)(),gs=Object(d.a)((({attributes:e,children:t,element:n,prefix:r,className:o,styles:i,htmlAttributes:a,as:c="span",onClick:l,renderLabel:u=(e=>e.value)})=>{const d=Object(f.g)(),p=Object(f.e)(),b=ms(i,{className:o,selected:d,focused:p});return Object(s.createElement)(c,Object.assign({},e,{"data-slate-value":n.value,className:b.root,contentEditable:!1,onClick:so(l,n)},a),r,u(n),t)}),(({className:e,focused:t,selected:n})=>({root:[{padding:"3px 3px 2px",margin:"0 1px",verticalAlign:"baseline",display:"inline-block",borderRadius:"4px",backgroundColor:"#eee",fontSize:"0.9em",boxShadow:n&&t?"0 0 0 2px #B4D5FF":"none"},e]})),void 0,{scope:"MentionElement"}),ys="slate-MentionSelect",js="slate-MentionSelect-mentionItem",Os="slate-MentionSelect-mentionItemSelected",ks=Object(u.a)(),xs=(Object(d.a)((e=>{var{className:t,styles:n,at:r,options:o,valueIndex:i,onClickMention:a,renderLabel:c=(e=>e.value)}=e,l=no(e,["className","styles","at","options","valueIndex","onClickMention","renderLabel"]);const u=ks(n,{className:t}),d=Object(s.useRef)(),p=Object(f.h)();return Object(s.useEffect)((()=>{if(r&&o.length>0){const e=d.current,t=f.b.toDOMRange(p,r).getBoundingClientRect();e&&(e.style.top=`${t.top+window.pageYOffset+24}px`,e.style.left=`${t.left+window.pageXOffset}px`)}}),[o.length,p,r]),r&&o.length?Object(s.createElement)(bi,null,Object(s.createElement)("div",Object.assign({ref:d,className:u.root},l),o.map(((e,t)=>Object(s.createElement)("div",{key:`${t}${e.value}`,className:t===i?u.mentionItemSelected:u.mentionItem,onMouseDown:qo(a,p,e)},c(e)))))):null}),(({className:e}={})=>{const t=[js,{padding:"1px 3px",borderRadius:"3px",background:"transparent",cursor:"pointer"}],n=[Os,...t,{background:"#B4D5FF"}];return{root:[ys,{top:"-9999px",left:"-9999px",position:"absolute",zIndex:1,padding:"3px",background:"white",borderRadius:"4px",boxShadow:"0 1px 5px rgba(0,0,0,.2)"},e],mentionItem:t,mentionItemSelected:n}}),void 0,{scope:"MentionSelect"}),{mention:{component:gs,type:"mention",rootProps:{className:"slate-mention",prefix:"@"}}}),Ns=e=>{var t;const{mention:n}=Bo(e,xs);return{element:io(Object.assign({type:n.type,node:e=>({type:n.type,value:e.getAttribute("data-slate-value")}),rules:[{className:n.rootProps.className}]},null===(t=null===e||void 0===e?void 0:e.mention)||void 0===t?void 0:t.deserialize))}},_s=e=>{const{mention:t}=Bo(e,xs);return Ho(t)},ws=e=>{const{mention:t}=Bo(e,xs);return{renderElement:_s(e),deserialize:Ns(e),inlineTypes:[t.type],voidTypes:[t.type]}},Es=Object(u.a)(),Ss={table:{component:Object(d.a)((({attributes:e,children:t,className:n,styles:r,htmlAttributes:o})=>{const i=Es(r,{className:n});return Object(s.createElement)("table",Object.assign({},e,{className:i.root},o),Object(s.createElement)("tbody",null,t))}),(({className:e})=>({root:[{margin:"10px 0",borderCollapse:"collapse",width:"100%"},e]})),void 0,{scope:"TableElement"}),type:"table",rootProps:{className:"slate-table",as:"table"}},tr:{component:gi,type:"tr",rootProps:{className:"slate-tr",as:"tr"}},th:{component:gi,type:"th",rootProps:{className:"slate-th",as:"th",styles:{root:{backgroundColor:"rgb(244, 245, 247)",border:"1px solid rgb(193, 199, 208)",padding:"8px",minWidth:"48px",textAlign:"left",selectors:{"> *":{margin:0}}}}},nodeToProps:({element:e})=>{var t,n;return{colSpan:null===(t=null===e||void 0===e?void 0:e.attributes)||void 0===t?void 0:t.colspan,rowSpan:null===(n=null===e||void 0===e?void 0:e.attributes)||void 0===n?void 0:n.rowspan}}},td:{component:gi,type:"td",rootProps:{className:"slate-td",as:"td",styles:{root:{backgroundColor:"rgb(255, 255, 255)",border:"1px solid rgb(193, 199, 208)",padding:"8px",minWidth:"48px",selectors:{"> *":{margin:0}}}}},nodeToProps:({element:e})=>{var t,n;return{colSpan:null===(t=null===e||void 0===e?void 0:e.attributes)||void 0===t?void 0:t.colspan,rowSpan:null===(n=null===e||void 0===e?void 0:e.attributes)||void 0===n?void 0:n.rowspan}}}},Ts=e=>{var t,n,r,o;const{table:i,td:a,th:s,tr:c}=Bo(e,Ss);return{element:[...ao(Object.assign({type:i.type,rules:[{nodeNames:"TABLE"}]},null===(t=null===e||void 0===e?void 0:e.table)||void 0===t?void 0:t.deserialize)),...ao(Object.assign({type:c.type,rules:[{nodeNames:"TR"}]},null===(n=null===e||void 0===e?void 0:e.tr)||void 0===n?void 0:n.deserialize)),...ao(Object.assign({type:a.type,attributes:["rowspan","colspan"],rules:[{nodeNames:"TD"}]},null===(r=null===e||void 0===e?void 0:e.td)||void 0===r?void 0:r.deserialize)),...ao(Object.assign({type:s.type,attributes:["rowspan","colspan"],rules:[{nodeNames:"TH"}]},null===(o=null===e||void 0===e?void 0:e.th)||void 0===o?void 0:o.deserialize))]}};function As(e,t,n,r){try{return o.a.node(e,o.e.next(n))}catch(i){const[,t]=r;return function(e,t){var n;try{const r=o.a.node(e,o.e.next(t)),[i,a]=r,s=null===(n=null===i||void 0===i?void 0:i.children)||void 0===n?void 0:n[0],c=a.concat(0);if(s&&c)return o.a.node(e,c)}catch(i){}}(e,t)}}function Ps(e,t,n,r){try{return o.a.node(e,o.e.previous(n))}catch(i){const[,t]=r;return function(e,t){var n;try{const r=o.a.node(e,o.e.previous(t)),[i,a]=r,s=null===(n=null===i||void 0===i?void 0:i.children)||void 0===n?void 0:n[i.children.length-1],c=a.concat(i.children.length-1);if(s&&c)return o.a.node(e,c)}catch(i){}}(e,t)}}const zs="Tab",Ds=e=>(t,n)=>{if(t.key===zs){t.preventDefault();const r=((e,{at:t=e.selection}={},n)=>{const{td:r,tr:o,table:i}=Bo(n,Ss);if(t&&Ro(e,{at:t,match:{type:r.type}})){const n=qn(e,t);if(!n)return;const[,a]=n,s=Cn(e,{at:t,match:{type:r.type}})||qn(e,a);if(!s)return;const[c,l]=s;if(c.type!==r.type)return;const u=qn(e,l);if(!u)return;const[d,p]=u;if(d.type!==o.type)return;const f=qn(e,p);if(!i)return;return{tableElement:f,tableRow:u,tableCell:s}}})(n,{},e);if(!r)return;const{tableRow:i,tableCell:a}=r,[,s]=a,c=t.shiftKey,l=!t.shiftKey;if(c){const e=Ps(n,0,s,i);if(e){const[,t]=e;o.j.select(n,t)}}else if(l){const e=As(n,0,s,i);if(e){const[,t]=e;o.j.select(n,t)}}}},Ls=e=>{const{table:t,td:n,th:r,tr:o}=Bo(e,Ss);return Vo([t,r,o,n])},Cs=e=>({renderElement:Ls(e),deserialize:Ts(e),onKeyDown:Ds(e)}),Bs=e=>t=>{const{td:n,th:r}=Bo(e,Ss),i=e=>e.type===n.type||e.type===r.type,{deleteBackward:a,deleteForward:s,deleteFragment:c,insertText:l}=t,u=(e,n,r)=>a=>{const{selection:s}=t;if(Zr(s)){const[e]=o.a.nodes(t,{match:i});if(e){const[,r]=e,i=n(t,r);if(s&&o.f.equals(s.anchor,i))return}else{const e=r(t,s,{unit:a}),[n]=o.a.nodes(t,{match:i,at:e});if(n)return}}e(a)};return t.deleteFragment=()=>{const{selection:e}=t,[n]=o.a.nodes(t,{match:i,at:null===e||void 0===e?void 0:e.anchor.path}),[r]=o.a.nodes(t,{match:i,at:null===e||void 0===e?void 0:e.focus.path});if(!n&&!r||(null===n||void 0===n?void 0:n[0])===(null===r||void 0===r?void 0:r[0]))c();else{const e=o.a.nodes(t,{match:i});for(const[,n]of e)for(const[,e]of o.c.children(t,n))o.j.removeNodes(t,{at:e});o.j.collapse(t)}},t.insertText=e=>{const{selection:n}=t,[r]=o.a.nodes(t,{match:i,at:null===n||void 0===n?void 0:n.anchor.path}),[a]=o.a.nodes(t,{match:i,at:null===n||void 0===n?void 0:n.focus.path});if(!Zr(n)&&(r||a)&&(null===r||void 0===r?void 0:r[0])!==(null===a||void 0===a?void 0:a[0])){const[n]=o.a.nodes(t,{match:i});if(n)return o.j.collapse(t,{edge:"end"}),void l(e)}l(e)},t.deleteBackward=u(a,o.a.start,o.a.before),t.deleteForward=u(s,o.a.end,o.a.after),t},Is=e=>{var{className:t,url:n,onChange:r}=e,o=no(e,["className","url","onChange"]);const[i,a]=Object(s.useState)(n);return Object(s.createElement)("input",Object.assign({className:t,value:i,onClick:e=>e.stopPropagation(),onChange:e=>{const t=e.target.value;a(t),r(t)}},o))},Rs=Object(u.a)(),Ms={media_embed:{component:Object(d.a)((({attributes:e,children:t,element:n,className:r,styles:i,htmlAttributes:a})=>{const c=Rs(i,{className:r}),l=Object(f.d)(),{url:u}=n;return Object(s.createElement)("div",Object.assign({},e,{className:c.root}),Object(s.createElement)("div",{contentEditable:!1},Object(s.createElement)("div",{className:c.iframeWrapper},Object(s.createElement)("iframe",Object.assign({className:c.iframe,title:"embed",src:`${u}?title=0&byline=0&portrait=0`,frameBorder:"0"},a))),Object(s.createElement)(Is,{"data-testid":"MediaEmbedUrlInput",className:c.input,url:u,onChange:e=>{const t=f.b.findPath(l,n);o.j.setNodes(l,{url:e},{at:t})}})),t)}),(({className:e})=>({root:[{position:"relative"},e],iframeWrapper:{padding:"75% 0 0 0",position:"relative"},iframe:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"},input:{fontSize:"0.85em",width:"100%",padding:"0.5em",border:"2px solid #ddd",background:"#fafafa",marginTop:"5px"}})),void 0,{scope:"MediaEmbedElement"}),type:"media_embed",rootProps:{className:"slate-media-embed"}}},$s=e=>{var t;const{media_embed:n}=Bo(e,Ms);return{element:io(Object.assign({type:n.type,node:e=>{let t=e.getAttribute("src");if(t)return[t]=t.split("?"),{type:n.type,url:t}},rules:[{nodeNames:"IFRAME"},{className:n.rootProps.className}]},null===(t=null===e||void 0===e?void 0:e.media_embed)||void 0===t?void 0:t.deserialize))}},Fs=e=>{const{media_embed:t}=Bo(e,Ms);return Ho(t)},qs=e=>{const{media_embed:t}=Bo(e,Ms);return{renderElement:Fs(e),deserialize:$s(e),voidTypes:[t.type]}},Us="align_left",Ws="align_center",Ks="align_right",Hs="align_justify",Vs={align_left:{component:gi,type:Us,rootProps:{className:"slate-align-left",styles:{root:{textAlign:"left"}}}},align_center:{component:gi,type:Ws,rootProps:{className:"slate-align-center",styles:{root:{textAlign:"center"}}}},align_right:{component:gi,type:Ks,rootProps:{className:"slate-align-right",styles:{root:{textAlign:"right"}}}},align_justify:{component:gi,type:Hs,rootProps:{className:"slate-align-justify",styles:{root:{textAlign:"justify"}}}}},Gs=(e,t,n,{preFormat:r,format:i})=>{o.j.delete(e,{at:n}),null===r||void 0===r||r(e),i?i(e):o.j.setNodes(e,{type:t},{match:t=>o.a.isBlock(e,t)})},Js=(e,{type:t,between:n,markup:r,ignoreTrim:i})=>{const a=e.selection,s=n?n[0]:r,c=n?n[1]:"";let l=a.anchor;if(c&&(l=Kr(e,a,{matchString:c}),!l))return!1;const u=Kr(e,l,{matchString:s,skipInvalid:!0,afterMatch:!0});if(!u)return!1;const d={anchor:u,focus:l};if(!i){const t=Jr(e,d);if(t.trim()!==t)return!1}c&&(l=Kr(e,a,{matchString:c}),o.j.delete(e,{at:{anchor:l,focus:a.anchor}})),o.j.select(e,d),e.addMark(t,!0),o.j.collapse(e,{edge:"end"}),e.removeMark(t,!1);const p=Kr(e,a,{matchString:s,skipInvalid:!0});return o.j.delete(e,{at:{anchor:p,focus:u}}),!0},Xs=({rules:e})=>t=>{const{insertText:n}=t;return t.insertText=r=>{if(!Zr(t.selection))return n(r);for(let i of e){const{query:e}=i,a=no(i,["query"]),{trigger:s=" ",mode:c="block",allowSameTypeAbove:l=!1,triggerAtBlockStart:u=!0,type:d,markup:p,preFormat:f,format:b,between:v,ignoreTrim:h,insertTrigger:m}=a;if(e&&!e(t,a))continue;if(!N(s).includes(r))continue;const g=()=>m&&n(r);if("block"===c){const e=N(p);let n;if(u){n=Gr(t);if(Ro(t,{at:n,match:e=>o.a.isVoid(t,e)}))continue;const r=Jr(t,n);if(!e.includes(r))continue}else if(n=Vr(t,t.selection,{matchString:p}),!n)continue;if(!l){if(Ro(t,{match:{type:d}}))continue}return Gs(t,d,n,{preFormat:f,format:b}),g()}if("inline"===c&&Js(t,{type:d,between:v,ignoreTrim:h,markup:Array.isArray(p)?p[0]:p}))return g()}n(r)},t},Zs=(e,{start:t,end:n})=>{let r=!1,o=!1,i=!1;return(t||n)&&(r=!0,t&&oo(e)&&(o=!0,i=!0),n&&(e=>{var t,n;const r=null===(t=Bn(e))||void 0===t?void 0:t[1];return r&&Qr(e,null===(n=e.selection)||void 0===n?void 0:n.focus,r)})(e)&&(o=!0),o&&Yr(e.selection)&&e.deleteFragment()),{queryEdge:r,isEdge:o,isStart:i}},Qs=({rules:e=[{hotkey:"mod+enter"},{hotkey:"mod+shift+enter",before:!0}]}={})=>(t,n)=>{const r=Bn(n);r&&e.forEach((({hotkey:e,query:i={},level:s=1,before:c,defaultType:l=Mo})=>{if(a()(e,t)&&Hr(r,i)){if(!n.selection)return;const{queryEdge:e,isEdge:r,isStart:a}=Zs(n,i);if(a&&(c=!0),e&&!r)return;t.preventDefault();const u=o.a.path(n,n.selection);let d;d=c?u.slice(0,s+1):o.e.next(u.slice(0,s+1)),o.j.insertNodes(n,{type:l,children:[{text:""}]},{at:d,select:!a})}}))},Ys=(e={})=>({onKeyDown:Qs(e)}),ec=e=>({onKeyDown:vs(e)}),tc=({rules:e=[{hotkey:"shift+enter"}]}={})=>(t,n)=>{const r=Bn(n);r&&e.forEach((({hotkey:e,query:o})=>{a()(e,t)&&Hr(r,o)&&(t.preventDefault(),n.insertText("\n"))}))},nc=(e={})=>({onKeyDown:tc(e)}),rc="bold",oc={bold:{component:ji,type:rc,hotkey:"mod+b",rootProps:{className:"slate-bold",as:"strong"}}},ic=e=>{var t;const{bold:n}=Bo(e,oc);return{leaf:co(Object.assign({type:n.type,rules:[{nodeNames:["STRONG"]},{style:{fontWeight:["600","700","bold"]}}]},null===(t=null===e||void 0===e?void 0:e.bold)||void 0===t?void 0:t.deserialize))}},ac=e=>Go({key:"bold",defaultOptions:oc,options:e}),sc=e=>({renderLeaf:ac(e),deserialize:ic(e),onKeyDown:Io({key:"bold",defaultOptions:oc,options:e})}),cc="code",lc={code:{component:ji,type:cc,hotkey:"mod+e",rootProps:{className:"slate-code",as:"code",styles:{root:{whiteSpace:"pre-wrap",fontSize:"85%",fontFamily:'"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;',backgroundColor:"rgba(135,131,120,0.15)",borderRadius:"3px",padding:"0.2em 0.4em",lineHeight:"normal"}}}}},uc=e=>{var t;const{code:n}=Bo(e,lc);return{leaf:co(Object.assign({type:n.type,rules:[{nodeNames:["CODE"]},{style:{wordWrap:"break-word"}}]},null===(t=null===e||void 0===e?void 0:e.code)||void 0===t?void 0:t.deserialize))}},dc=e=>Go({key:"code",defaultOptions:lc,options:e}),pc=e=>({renderLeaf:dc(e),deserialize:uc(e),onKeyDown:Io({key:"code",defaultOptions:lc,options:e})}),fc="italic",bc={italic:{component:ji,type:fc,hotkey:"mod+i",rootProps:{className:"slate-italic",as:"em"}}},vc=e=>{var t;const{italic:n}=Bo(e,bc);return{leaf:co(Object.assign({type:n.type,rules:[{nodeNames:["EM","I"]},{style:{fontStyle:"italic"}}]},null===(t=null===e||void 0===e?void 0:e.italic)||void 0===t?void 0:t.deserialize))}},hc=e=>Go({key:"italic",defaultOptions:bc,options:e}),mc=e=>({renderLeaf:hc(e),deserialize:vc(e),onKeyDown:Io({key:"italic",defaultOptions:bc,options:e})}),gc="strikethrough",yc={strikethrough:{component:ji,type:gc,hotkey:"mod+shift+s",rootProps:{className:"slate-strikethrough",as:"s"}}},jc=e=>{var t;const{strikethrough:n}=Bo(e,yc);return{leaf:co(Object.assign({type:n.type,rules:[{nodeNames:["S","DEL","STRIKE"]},{style:{textDecoration:"line-through"}}]},null===(t=null===e||void 0===e?void 0:e.strikethrough)||void 0===t?void 0:t.deserialize))}},Oc=e=>Go({key:"strikethrough",defaultOptions:yc,options:e}),kc=e=>({renderLeaf:Oc(e),deserialize:jc(e),onKeyDown:Io({key:"strikethrough",defaultOptions:yc,options:e})}),xc="superscript",Nc="subscript",_c={subscript:{component:ji,type:Nc,hotkey:"mod+,",clear:xc,rootProps:{className:"slate-subscript",as:"sub"}},superscript:{component:ji,type:xc,hotkey:"mod+.",clear:Nc,rootProps:{className:"slate-superscript",as:"sup"}}},wc=e=>{var t;const{subscript:n}=Bo(e,_c);return{leaf:co(Object.assign({type:n.type,rules:[{nodeNames:["SUB"]},{style:{verticalAlign:"sub"}}]},null===(t=null===e||void 0===e?void 0:e.subscript)||void 0===t?void 0:t.deserialize))}},Ec=e=>Go({key:"subscript",defaultOptions:_c,options:e}),Sc=e=>({renderLeaf:Ec(e),deserialize:wc(e),onKeyDown:Io({key:"subscript",defaultOptions:_c,options:e})}),Tc=e=>{var t;const{superscript:n}=Bo(e,_c);return{leaf:co(Object.assign({type:n.type,rules:[{nodeNames:["SUP"]},{style:{verticalAlign:"super"}}]},null===(t=null===e||void 0===e?void 0:e.superscript)||void 0===t?void 0:t.deserialize))}},Ac=e=>Go({key:"superscript",defaultOptions:_c,options:e}),Pc=e=>({renderLeaf:Ac(e),deserialize:Tc(e),onKeyDown:Io({key:"superscript",defaultOptions:_c,options:e})}),zc="underline",Dc={underline:{component:ji,type:zc,hotkey:"mod+u",rootProps:{className:"slate-underline",as:"u"}}},Lc=e=>{var t;const{underline:n}=Bo(e,Dc);return{leaf:co(Object.assign({type:n.type,rules:[{nodeNames:["U"]},{style:{textDecoration:"underline"}}]},null===(t=null===e||void 0===e?void 0:e.underline)||void 0===t?void 0:t.deserialize))}},Cc=e=>Go({key:"underline",defaultOptions:Dc,options:e}),Bc=e=>({renderLeaf:Cc(e),deserialize:Lc(e),onKeyDown:Io({key:"underline",defaultOptions:Dc,options:e})}),Ic={highlight:{component:ji,type:"highlight",hotkey:"mod+shift+h",rootProps:{className:"slate-highlight",as:"mark",styles:{root:{backgroundColor:"#FEF3B7"}}}}},Rc={kbd:{component:ji,type:"kbd",rootProps:{className:"slate-kbd",as:"kbd",styles:{root:{whiteSpace:"pre-wrap",fontSize:"75%",fontFamily:'"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;',backgroundColor:"white",border:"1px solid black",borderRadius:"3px",padding:"0.2em 0.4em",marginRight:"0.2em",lineHeight:"normal",boxShadow:"2px 2px 3px 0px rgba(0,0,0,0.75)"}}}}},Mc=()=>e=>{const t=e;return t.removeMark=(t,n=!0)=>{const{selection:r}=e;if(r)if(o.g.isExpanded(r))o.j.unsetNodes(e,t,{match:o.i.isText,split:!0});else{const r=Object.assign({},o.a.marks(e)||{});delete r[t],e.marks=r,n&&e.onChange()}},t},$c={search_highlight:{type:"search_highlight",rootProps:{as:"span",className:"slate-search-highlight",styles:{root:{backgroundColor:"#fff59d"}}}}},Fc=e=>([t,n])=>{const{search_highlight:r,search:i}=Bo(e,$c),a=[];if(i&&o.i.isText(t)){const{text:e}=t,o=e.split(i);let s=0;o.forEach(((e,t)=>{0!==t&&a.push({anchor:{path:n,offset:s-i.length},focus:{path:n,offset:s},[r.type]:!0}),s=s+e.length+i.length}))}return a}}).call(this,n("ntbh"))}}]);